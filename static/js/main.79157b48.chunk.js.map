{"version":3,"sources":["assets/images/preloader.svg","utils/generateID.js","constants/URL.js","constants/ActionTypes.js","actions/index.js","sagas/index.js","reducers/index.js","store.js","components/NewBookBlock/Field/index.js","components/NewBookBlock/Field/Field.jsx","constants/Fields.js","constants/Countries.js","constants/languagesList.js","components/NewBookBlock/index.js","components/NewBookBlock/NewBookBlock.jsx","components/BooksList/Book/index.js","components/BooksList/Book/Book.jsx","components/Preloader/index.js","components/Preloader/Preloader.jsx","components/BooksList/index.js","components/BooksList/BooksList.jsx","components/SearchBlock/SearchBlock.jsx","components/SearchBlock/index.js","components/App/App.jsx","selectors/index.js","components/App/index.js","components/App/AppContainer.jsx","components/NotFound/index.js","components/NotFound/NotFound.jsx","components/BookDetails/BookDetails.jsx","components/BookDetails/index.js","routes.jsx","index.js"],"names":["module","exports","__webpack_require__","p","generateID","Math","random","toString","substr","url","GET_BOOKS_REQUEST","DELETE_BOOK_REQUEST","POST_BOOK_REQUEST","PUT_BOOK_REQUEST","GET_BOOK_REQUEST","getBooksSuccessAction","books","type","payload","failureAction","error","deleteBookSuccessAction","id","postBookSuccessAction","book","putBookSuccessAction","getBookSuccessAction","getBooks","watchGetBooks","postBook","watchPostBook","deleteBook","watchDeleteBook","putBook","watchChangeBook","getBook","watchGetBook","rootSaga","regenerator_default","a","wrap","_context","prev","next","call","axios","get","sent","put","t0","message","stop","_marked","_context2","takeLatest","_marked2","_ref","_context3","Object","assign","post","_marked3","_context4","_marked4","_ref2","_context5","delete","concat","_marked5","_context6","_marked6","_ref3","_context7","_marked7","_context8","_marked8","_ref4","response","_context9","_marked9","_context10","_marked10","_context11","all","_marked11","initialState","newBook","title","country","language","pages","author","year","filter","isLoading","sagaMiddleware","createSagaMiddleware","store","createStore","state","arguments","length","undefined","action","name","value","objectSpread","defineProperty","editableField","text","updatedBook","data","filteredBooks","toConsumableArray","el","index","findIndex","slice","composeWithDevTools","applyMiddleware","run","Field","handleChange","e","target","_this$props","_this","props","onChangeNewBook","_this$props2","this","label","isDropDown","options","react_default","createElement","htmlFor","className","onBlur","selected","map","item","key","placeholder","onChange","PureComponent","fields","NewBookBlock","handleClick","preventDefault","onPostBook","hasEmptyFields","field","NewBookBlock_Field","onClick","disabled","Component","Book","_PureComponent","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","apply","onDeleteBook","inherits","createClass","react_router_dom","to","Preloader","src","preloader","alt","BooksList","onGetBooks","visibleBooks","components_Preloader","BooksList_Book","SearchBlock","getQueryParams","location","URLSearchParams","search","handleLocationChange","history","onChangeFilter","unsubscribe","listen","push","withRouter","App","changeNewBook","changeFilter","components_SearchBlock","components_NewBookBlock","components_BooksList","getFilter","getNewBook","visibleBooksSelector","createSelector","indexOf","hasEmptyFieldsSelector","keys","some","newBookSelector","filterSelector","findBookSelector","errorSelector","isLoadingSelector","AppContainer","connect","NotFound","BookDetails","inputFocusRef","React","createRef","handleDblClick","attributes","setState","handleKeyDown","handleInputEdit","handleBlur","keyCode","changeBookProperty","match","params","current","focus","_this2","_this$props3","ref","onKeyDown","onDoubleClick","components_NotFound","routes","react_router","path","component","exact","ReactDOM","render","es","document","getElementById"],"mappings":"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A,YACA,WACA,WACA,0BACA,UACA,SACA,WACA,SACA,QACA,gBACA,cACA,SACA,OACA,QACA,SACA,UACA,oBACA,QACA,8BACA,QACA,aACA,UACA,MACA,aACA,eACA,UACA,OACA,aACA,WACA,QACA,YACA,UACA,WACA,yCACA,cACA,YACA,QACA,gBACA,0BACA,gBACA,SACA,SACA,oBACA,YACA,QACA,gBACA,UACA,gBACA,uBACA,QACA,QACA,mBACA,kBACA,UACA,kBACA,SACA,gBACA,aACA,UACA,UACA,UACA,WACA,UACA,WACA,YACA,SACA,gBACA,SACA,QACA,UACA,kBACA,QACA,oBACA,SACA,UACA,SACA,iBACA,oBACA,UACA,YACA,UACA,QACA,UACA,QACA,SACA,QACA,OACA,WACA,UACA,UACA,UACA,SACA,wBACA,UACA,SACA,QACA,MACA,WACA,gBACA,YACA,OACA,QACA,QACA,aACA,iBACA,UACA,QACA,QACA,kBACA,QACA,UACA,SACA,gBACA,SFpKA,CACE7B,KAAM,QACN2B,MAAO,+CAET,CACE3B,KAAM,SACN2B,MAAO,mCAET,CACE3B,KAAM,OACN2B,MAAO,mEG5BIgB,wNCKbC,YAAc,SAACzB,GACbA,EAAE0B,iBADiB,IAAAxB,EAEaC,EAAKC,MAA7BzC,EAFWuC,EAEXvC,SACRgE,EAHmBzB,EAEFyB,YACNhE,8EAGJ,IAAA2C,EAMHC,KAAKH,MAJPzC,EAFK2C,EAEL3C,QACA0C,EAHKC,EAGLD,gBACAuB,EAJKtB,EAILsB,eACAzD,EALKmC,EAKLnC,UAEF,OACEwC,EAAA/F,EAAAgG,cAAA,OAAKE,UAAU,UACZS,GAAON,IAAI,SAAAY,GAAK,OACflB,EAAA/F,EAAAgG,cAACkB,GAAD,CACEX,IAAKU,EAAMhD,KACXwB,gBAAiBA,EACjBxB,KAAMgD,EAAMhD,KACZC,MAAOnB,EAAQkE,EAAMhD,MACrB2B,MAAOqB,EAAMrB,MACbE,QAASmB,EAAMnB,QACfD,WAAYoB,EAAMpB,eAGtBE,EAAA/F,EAAAgG,cAAA,UACEE,UAAU,mBACVi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","file":"static/js/main.79157b48.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/preloader.05457216.svg\";","const generateID = () => Math.random().toString(36).substr(2, 9);\r\n\r\nexport default generateID;\r\n","const url = 'https://json-books.herokuapp.com/books';\r\n\r\nexport default url;\r\n","export const CHANGE_NEW_BOOK = 'CHANGE_NEW_BOOK';\r\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\r\nexport const CHANGE_BOOK_PROPERTY = 'CHANGE_BOOK_PROPERTY';\r\nexport const DELETE_BOOK = 'DELETE_BOOK';\r\nexport const GET_BOOKS_REQUEST = 'GET_BOOKS_REQUEST';\r\nexport const GET_BOOKS_SUCCESS = 'GET_BOOKS_SUCCESS';\r\nexport const GET_BOOKS_FAILURE = 'GET_BOOKS_FAILURE';\r\nexport const DELETE_BOOK_SUCCESS = 'DELETE_BOOK_SUCCESS';\r\nexport const DELETE_BOOK_REQUEST = 'DELETE_BOOK_REQUEST';\r\nexport const POST_BOOK_SUCCESS = 'POST_BOOK_SUCCESS';\r\nexport const POST_BOOK_REQUEST = 'POST_BOOK_REQUEST';\r\nexport const PUT_BOOK_SUCCESS = 'PUT_BOOK_SUCCESS';\r\nexport const PUT_BOOK_REQUEST = 'PUT_BOOK_REQUEST';\r\nexport const GET_BOOK_REQUEST = 'GET_BOOK_REQUEST';\r\nexport const GET_BOOK_SUCCESS = 'GET_BOOK_SUCCESS';\r\nexport const FAILURE = 'FAILURE';\r\n","import {\r\n  CHANGE_NEW_BOOK,\r\n  CHANGE_FILTER,\r\n  CHANGE_BOOK_PROPERTY,\r\n  GET_BOOKS_REQUEST,\r\n  GET_BOOKS_SUCCESS,\r\n  DELETE_BOOK_SUCCESS,\r\n  DELETE_BOOK_REQUEST,\r\n  POST_BOOK_SUCCESS,\r\n  POST_BOOK_REQUEST,\r\n  FAILURE,\r\n  PUT_BOOK_SUCCESS,\r\n  PUT_BOOK_REQUEST,\r\n  GET_BOOK_SUCCESS,\r\n  GET_BOOK_REQUEST,\r\n} from '../constants/ActionTypes';\r\n\r\nexport const changeNewBookAction = (name, value) => (\r\n  { type: CHANGE_NEW_BOOK, payload: { name, value } });\r\n\r\nexport const changeFilterAction = filter => (\r\n  { type: CHANGE_FILTER, payload: filter });\r\n\r\nexport const changeBookPropertyAction = (editableField, text) => (\r\n  { type: CHANGE_BOOK_PROPERTY, payload: { editableField, text } });\r\n\r\nexport const getBooksRequest = () => ({\r\n  type: GET_BOOKS_REQUEST,\r\n});\r\n\r\nexport const getBooksSuccessAction = books => ({\r\n  type: GET_BOOKS_SUCCESS, payload: books,\r\n});\r\n\r\nexport const failureAction = error => ({\r\n  type: FAILURE, payload: error,\r\n});\r\n\r\nexport const deleteBookRequestAction = id => ({\r\n  type: DELETE_BOOK_REQUEST, payload: id,\r\n});\r\n\r\nexport const deleteBookSuccessAction = id => ({\r\n  type: DELETE_BOOK_SUCCESS, payload: id,\r\n});\r\n\r\nexport const postBookRequestAction = book => ({\r\n  type: POST_BOOK_REQUEST, payload: book,\r\n});\r\n\r\nexport const postBookSuccessAction = book => ({\r\n  type: POST_BOOK_SUCCESS, payload: book,\r\n});\r\n\r\nexport const putBookRequestAction = book => ({\r\n  type: PUT_BOOK_REQUEST, payload: book,\r\n});\r\n\r\nexport const putBookSuccessAction = book => ({\r\n  type: PUT_BOOK_SUCCESS, payload: book,\r\n});\r\n\r\nexport const getBookRequestAction = id => ({\r\n  type: GET_BOOK_REQUEST, payload: id,\r\n});\r\n\r\nexport const getBookSuccessAction = book => ({\r\n  type: GET_BOOK_SUCCESS, payload: book,\r\n});\r\n","import {\r\n  call,\r\n  all,\r\n  put,\r\n  takeLatest,\r\n} from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport generateID from '../utils/generateID';\r\nimport url from '../constants/URL';\r\nimport {\r\n  GET_BOOKS_REQUEST,\r\n  POST_BOOK_REQUEST,\r\n  DELETE_BOOK_REQUEST,\r\n  PUT_BOOK_REQUEST,\r\n  GET_BOOK_REQUEST,\r\n} from '../constants/ActionTypes';\r\nimport {\r\n  getBooksSuccessAction,\r\n  postBookSuccessAction,\r\n  deleteBookSuccessAction,\r\n  putBookSuccessAction,\r\n  getBookSuccessAction,\r\n  failureAction,\r\n} from '../actions';\r\n\r\nfunction* getBooks() {\r\n  try {\r\n    const books = yield call(axios.get, url);\r\n    yield put(getBooksSuccessAction(books));\r\n  } catch (e) {\r\n    yield put(failureAction(e.message));\r\n  }\r\n}\r\n\r\nfunction* watchGetBooks() {\r\n  yield takeLatest(GET_BOOKS_REQUEST, getBooks);\r\n}\r\n\r\nfunction* postBook({ payload }) {\r\n  try {\r\n    const book = Object.assign({ id: generateID() }, payload);\r\n    yield call(axios.post, url, book);\r\n    yield put(postBookSuccessAction(book));\r\n  } catch (e) {\r\n    yield put(failureAction(e.message));\r\n  }\r\n}\r\n\r\nfunction* watchPostBook() {\r\n  yield takeLatest(POST_BOOK_REQUEST, postBook);\r\n}\r\n\r\nfunction* deleteBook({ payload }) {\r\n  try {\r\n    yield call(axios.delete, `${url}/${payload}`);\r\n    yield put(deleteBookSuccessAction(payload));\r\n  } catch (e) {\r\n    yield put(failureAction(e.message));\r\n  }\r\n}\r\n\r\nfunction* watchDeleteBook() {\r\n  yield takeLatest(DELETE_BOOK_REQUEST, deleteBook);\r\n}\r\n\r\nfunction* putBook({ payload }) {\r\n  try {\r\n    yield call(axios.put, `${url}/${payload.id}`, payload);\r\n    yield put(putBookSuccessAction(payload));\r\n  } catch (e) {\r\n    yield put(failureAction(e.message));\r\n  }\r\n}\r\n\r\nfunction* watchChangeBook() {\r\n  yield takeLatest(PUT_BOOK_REQUEST, putBook);\r\n}\r\n\r\nfunction* getBook({ payload }) {\r\n  try {\r\n    const response = yield call(axios.get, `${url}/${payload}`);\r\n    yield put(getBookSuccessAction(response));\r\n  } catch (e) {\r\n    yield put(failureAction(e.message));\r\n  }\r\n}\r\n\r\nfunction* watchGetBook() {\r\n  yield takeLatest(GET_BOOK_REQUEST, getBook);\r\n}\r\n\r\nexport default function* rootSaga() {\r\n  yield all([\r\n    watchGetBooks(),\r\n    watchPostBook(),\r\n    watchDeleteBook(),\r\n    watchChangeBook(),\r\n    watchGetBook(),\r\n  ]);\r\n}\r\n","const initialState = {\r\n  newBook: {\r\n    title: '',\r\n    country: '',\r\n    language: '',\r\n    pages: '',\r\n    author: '',\r\n    year: '',\r\n  },\r\n  filter: '',\r\n  books: [],\r\n  book: null,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  const {\r\n    books,\r\n  } = state;\r\n  switch (type) {\r\n    case 'CHANGE_NEW_BOOK': {\r\n      const { name, value } = payload;\r\n      const { newBook } = state;\r\n      return { ...state, newBook: { ...newBook, [name]: value } };\r\n    }\r\n    case 'CHANGE_FILTER': {\r\n      return { ...state, filter: payload };\r\n    }\r\n    case 'CHANGE_BOOK_PROPERTY': {\r\n      const { book } = state;\r\n      const { editableField, text } = payload;\r\n      const updatedBook = Object.assign({}, { ...book, [editableField]: text });\r\n      return {\r\n        ...state,\r\n        book: updatedBook,\r\n      };\r\n    }\r\n    case 'FAILURE': {\r\n      return { ...state, error: payload, isLoading: false };\r\n    }\r\n    case 'GET_BOOKS_REQUEST': {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case 'GET_BOOKS_SUCCESS': {\r\n      const { data } = payload;\r\n      return {\r\n        ...state, books: data, isLoading: false, error: '',\r\n      };\r\n    }\r\n    case 'GET_BOOK_REQUEST': {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case 'GET_BOOK_SUCCESS': {\r\n      const { data } = payload;\r\n      return { ...state, book: data, isLoading: false };\r\n    }\r\n    case 'POST_BOOK_REQUEST': {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case 'POST_BOOK_SUCCESS': {\r\n      const filteredBooks = [...books, payload];\r\n      return {\r\n        ...state,\r\n        newBook: {\r\n          author: '',\r\n          country: '',\r\n          language: '',\r\n          pages: '',\r\n          title: '',\r\n          year: '',\r\n        },\r\n        books: filteredBooks,\r\n        isLoading: false,\r\n      };\r\n    }\r\n    case 'DELETE_BOOK_REQUEST': {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case 'DELETE_BOOK_SUCCESS': {\r\n      const filteredBooks = books.filter(el => el.id !== payload);\r\n      return { ...state, books: filteredBooks, isLoading: false };\r\n    }\r\n    case 'PUT_BOOK_REQUEST': {\r\n      return { ...state, isLoading: true };\r\n    }\r\n    case 'PUT_BOOK_SUCCESS': {\r\n      const { id } = payload;\r\n      const index = books.findIndex(el => el.id === id);\r\n      const updatedBook = { ...books[index], ...payload };\r\n      return {\r\n        ...state,\r\n        books: [\r\n          ...books.slice(0, index),\r\n          updatedBook,\r\n          ...books.slice(index + 1),\r\n        ],\r\n        isLoading: false,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootSaga from './sagas';\r\nimport reducers from './reducers';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(\r\n  reducers,\r\n  composeWithDevTools(applyMiddleware(sagaMiddleware)),\r\n);\r\n\r\nsagaMiddleware.run(rootSaga);\r\n\r\nexport default store;\r\n","import Field from './Field';\r\n\r\nexport default Field;","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Field.sass';\r\n\r\nexport default class Field extends PureComponent {\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    const { onChangeNewBook, name } = this.props;\r\n    onChangeNewBook(name, value);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      label,\r\n      isDropDown,\r\n      options,\r\n    } = this.props;\r\n    return (\r\n      isDropDown\r\n        ? (\r\n          <div\r\n            htmlFor={name}\r\n            className=\"field\"\r\n          >\r\n            <select\r\n              className=\"field__input\"\r\n              onBlur={this.handleChange}\r\n              selected={value}\r\n            >\r\n              <option>Выберите</option>\r\n              {\r\n          options.map(item => (\r\n            <option\r\n              key={item}\r\n              value={item}\r\n            >\r\n              {item}\r\n            </option>\r\n          ))}\r\n            </select>\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"field\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder={label}\r\n              className=\"field__input\"\r\n              value={value}\r\n              onChange={this.handleChange}\r\n            />\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\nField.propTypes = {\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  options: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  isDropDown: PropTypes.bool.isRequired,\r\n};\r\n","import languages from './languagesList';\r\nimport countries from './Countries';\r\n\r\nconst fields = [\r\n  {\r\n    name: 'title',\r\n    label: 'Название:',\r\n  },\r\n  {\r\n    name: 'country',\r\n    label: 'Страна издания:',\r\n    isDropDown: true,\r\n    options: countries,\r\n  },\r\n  {\r\n    name: 'language',\r\n    label: 'Язык:',\r\n    isDropDown: true,\r\n    options: languages,\r\n  },\r\n  {\r\n    name: 'pages',\r\n    label: 'Страниц:',\r\n  },\r\n  {\r\n    name: 'author',\r\n    label: 'Автор:',\r\n  },\r\n  {\r\n    name: 'year',\r\n    label: 'Год издания:',\r\n  },\r\n];\r\nexport default fields;\r\n","const countriesList = [\r\n  'Afghanistan',\r\n  'Albania',\r\n  'Algeria',\r\n  'Andorra',\r\n  'Angola',\r\n  'Anguilla',\r\n  'Antigua',\r\n  'Argentina',\r\n  'Armenia',\r\n  'Aruba',\r\n  'Australia',\r\n  'Austria',\r\n  'Azerbaijan',\r\n  'Bahamas',\r\n  'Bahrain',\r\n  'Bangladesh',\r\n  'Barbados',\r\n  'Belarus',\r\n  'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Cape Verde', 'Cayman Islands', 'Chad', 'Chile', 'China', 'Colombia', 'Congo', 'Cook Islands', 'Costa Rica', 'Cote D Ivoire', 'Croatia', 'Cruise Ship', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Estonia', 'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Polynesia', 'French West Indies', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kuwait', 'Kyrgyz Republic', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macau', 'Macedonia', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Mauritania', 'Mauritius', 'Mexico', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique', 'Namibia', 'Nepal', 'Netherlands', 'Netherlands Antilles', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Reunion', 'Romania', 'Russia', 'Rwanda', 'Saint Pierre & Miquelon', 'Samoa', 'San Marino', 'Satellite', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'South Africa', 'South Korea', 'Spain', 'Sri Lanka', 'St Kitts & Nevis', 'St Lucia', 'St Vincent', 'St. Lucia', 'Sudan', 'Suriname', 'Swaziland', 'Sweden', 'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor L Este', 'Togo', 'Tonga', 'Trinidad & Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'Uruguay', 'Uzbekistan', 'Venezuela', 'Vietnam', 'Virgin Islands (US)', 'Yemen', 'Zambia', 'Zimbabwe'];\r\nexport default countriesList;\r\n","const languages = [\r\n  'Abkhaz',\r\n  'Afar',\r\n  'Afrikaans',\r\n  'Akan',\r\n  'Albanian',\r\n  'Amharic',\r\n  'Arabic',\r\n  'Aragonese',\r\n  'Armenian',\r\n  'Assamese',\r\n  'Avaric',\r\n  'Avestan',\r\n  'Aymara',\r\n  'Azerbaijani',\r\n  'Bambara',\r\n  'Bashkir',\r\n  'Basque',\r\n  'Belarusian',\r\n  'Bengali Bangla',\r\n  'Bihari',\r\n  'Bislama',\r\n  'Bosnian',\r\n  'Breton',\r\n  'Bulgarian',\r\n  'Burmese',\r\n  'Catalan Valencian',\r\n  'Chamorro',\r\n  'Chechen',\r\n  'Chichewa Chewa Nyanja',\r\n  'Chinese',\r\n  'Chuvash',\r\n  'Cornish',\r\n  'Corsican',\r\n  'Cree',\r\n  'Croatian',\r\n  'Czech',\r\n  'Danish',\r\n  'Divehi Dhivehi Maldivian',\r\n  'Dutch',\r\n  'Dzongkha',\r\n  'English',\r\n  'Esperanto',\r\n  'Estonian',\r\n  'Ewe',\r\n  'Faroese',\r\n  'Fijian',\r\n  'Finnish',\r\n  'French',\r\n  'Galician',\r\n  'Georgian',\r\n  'German',\r\n  'Greek Modern',\r\n  'GuaranÃ­',\r\n  'Gujarati',\r\n  'Haitian Haitian Creole',\r\n  'Hausa',\r\n  'Hebrew (modern)',\r\n  'Herero',\r\n  'Hindi',\r\n  'Hiri Motu',\r\n  'Hungarian',\r\n  'Interlingua',\r\n  'Indonesian',\r\n  'Interlingue',\r\n  'Irish',\r\n  'Igbo',\r\n  'Inupiaq',\r\n  'Ido',\r\n  'Icelandic',\r\n  'Italian',\r\n  'Inuktitut',\r\n  'Japanese',\r\n  'Javanese',\r\n  'Kalaallisut Greenlandic',\r\n  'Kannada',\r\n  'Kanuri',\r\n  'Kashmiri',\r\n  'Kazakh',\r\n  'Khmer',\r\n  'Kikuyu Gikuyu',\r\n  'Kinyarwanda',\r\n  'Kyrgyz',\r\n  'Komi',\r\n  'Kongo',\r\n  'Korean',\r\n  'Kurdish',\r\n  'Kwanyama Kuanyama',\r\n  'Latin',\r\n  'Luxembourgish Letzeburgesch',\r\n  'Ganda',\r\n  'Limburgish',\r\n  'Lingala',\r\n  'Lao',\r\n  'Lithuanian',\r\n  'Luba-Katanga',\r\n  'Latvian',\r\n  'Manx',\r\n  'Macedonian',\r\n  'Malagasy',\r\n  'Malay',\r\n  'Malayalam',\r\n  'Maltese',\r\n  'MÄori',\r\n  'Marathi (MarÄá¹­hÄ«)',\r\n  'Marshallese',\r\n  'Mongolian',\r\n  'Nauru',\r\n  'Navajo Navaho',\r\n  'Norwegian BokmÃ¥l',\r\n  'North Ndebele',\r\n  'Nepali',\r\n  'Ndonga',\r\n  'Norwegian Nynorsk',\r\n  'Norwegian',\r\n  'Nuosu',\r\n  'South Ndebele',\r\n  'Occitan',\r\n  'Ojibwe Ojibwa',\r\n  'Old Church Slavonic ',\r\n  'Oromo',\r\n  'Oriya',\r\n  'Ossetian Ossetic',\r\n  'Panjabi Punjabi',\r\n  'PÄli',\r\n  'Persian (Farsi)',\r\n  'Polish',\r\n  'Pashto Pushto',\r\n  'Portuguese',\r\n  'Quechua',\r\n  'Romansh',\r\n  'Kirundi',\r\n  'Romanian',\r\n  'Russian',\r\n  'Sanskrit',\r\n  'Sardinian',\r\n  'Sindhi',\r\n  'Northern Sami',\r\n  'Samoan',\r\n  'Sango',\r\n  'Serbian',\r\n  'Scottish Gaelic',\r\n  'Shona',\r\n  'Sinhala Sinhalese',\r\n  'Slovak',\r\n  'Slovene',\r\n  'Somali',\r\n  'Southern Sotho',\r\n  'South Azerbaijani',\r\n  'Spanish',\r\n  'Sundanese',\r\n  'Swahili',\r\n  'Swati',\r\n  'Swedish',\r\n  'Tamil',\r\n  'Telugu',\r\n  'Tajik',\r\n  'Thai',\r\n  'Tigrinya',\r\n  'Tibetan',\r\n  'Turkmen',\r\n  'Tagalog',\r\n  'Tswana',\r\n  'Tonga (Tonga Islands)',\r\n  'Turkish',\r\n  'Tsonga',\r\n  'Tatar',\r\n  'Twi',\r\n  'Tahitian',\r\n  'Uyghur Uighur',\r\n  'Ukrainian',\r\n  'Urdu',\r\n  'Uzbek',\r\n  'Venda',\r\n  'Vietnamese',\r\n  'VolapÃ¼k',\r\n  'Walloon',\r\n  'Welsh',\r\n  'Wolof',\r\n  'Western Frisian',\r\n  'Xhosa',\r\n  'Yiddish',\r\n  'Yoruba',\r\n  'Zhuang Chuang',\r\n  'Zulu',\r\n];\r\nexport default languages;\r\n","import NewBookBlock from './NewBookBlock';\r\n\r\nexport default NewBookBlock;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Field from './Field';\r\nimport fields from '../../constants/Fields';\r\nimport './Fields.sass';\r\n\r\nexport default class NewBookBlock extends Component {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const { newBook, onPostBook } = this.props;\r\n    onPostBook(newBook);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      newBook,\r\n      onChangeNewBook,\r\n      hasEmptyFields,\r\n      isLoading,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"fields\">\r\n        {fields.map(field => (\r\n          <Field\r\n            key={field.name}\r\n            onChangeNewBook={onChangeNewBook}\r\n            name={field.name}\r\n            value={newBook[field.name]}\r\n            label={field.label}\r\n            options={field.options}\r\n            isDropDown={field.isDropDown}\r\n          />\r\n        ))}\r\n        <button\r\n          className=\"btn btn_add-book\"\r\n          onClick={this.handleClick}\r\n          type=\"submit\"\r\n          disabled={hasEmptyFields || isLoading}\r\n        >\r\n          Добавить\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nNewBookBlock.propTypes = {\r\n  onPostBook: PropTypes.func.isRequired,\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\n","import Book from './Book';\r\n\r\nexport default Book;\r\n","import React, { PureComponent } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Book extends PureComponent {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const id = e.target.value;\r\n    const { onDeleteBook } = this.props;\r\n    onDeleteBook(id);\r\n  }\r\n\r\n  render() {\r\n    const { id, title } = this.props;\r\n    return (\r\n      <li>\r\n        <Link className=\"link\" to={`/books/${id}`}>\r\n          <div className=\"book-item\">\r\n            <div className=\"book-item__cover\" />\r\n            <h1 className=\"book-item__title\">{title}</h1>\r\n            <button\r\n              className=\"btn btn_delete-book\"\r\n              type=\"submit\"\r\n              value={id}\r\n              onClick={this.handleClick}\r\n            />\r\n          </div>\r\n        </Link>\r\n      </li>\r\n    );\r\n  }\r\n}\r\nBook.propTypes = {\r\n  onDeleteBook: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n};\r\nexport default Book;\r\n","import Preloader from './Preloader';\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport preloader from '../../assets/images/preloader.svg';\r\n\r\nconst Preloader = () => (\r\n  <div className=\"preloader-wrap\">\r\n    <img src={preloader} alt=\"\" />\r\n  </div>\r\n);\r\n\r\nexport default Preloader;\r\n","import BooksList from './BooksList';\r\n\r\nexport default BooksList;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Book from './Book';\r\nimport './BookList.sass';\r\nimport Preloader from '../Preloader';\r\n\r\n\r\nexport default class BooksList extends PureComponent {\r\n  componentDidMount() {\r\n    const { onGetBooks } = this.props;\r\n    onGetBooks();\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      visibleBooks,\r\n      onDeleteBook,\r\n      error,\r\n      isLoading,\r\n    } = this.props;\r\n    return (\r\n      isLoading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <ul className=\"book-list\">\r\n          {error && <p>Ошибка! {error}</p>}\r\n          { visibleBooks.map(book => (\r\n            <Book\r\n              key={book.id}\r\n              id={book.id}\r\n              title={book.title}\r\n              onDeleteBook={onDeleteBook}\r\n            />\r\n          ))}\r\n        </ul>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nBooksList.propTypes = {\r\n  onGetBooks: PropTypes.func.isRequired,\r\n  onDeleteBook: PropTypes.func.isRequired,\r\n  visibleBooks: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n  error: PropTypes.string.isRequired,\r\n};\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './SearchBlock.sass';\r\n\r\nclass SearchBlock extends PureComponent {\r\n  componentDidMount() {\r\n    this.handleLocationChange();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n  }\r\n\r\n  getQueryParams = location => new URLSearchParams(location.search).get('search');\r\n\r\n  handleLocationChange = () => {\r\n    const { history, onChangeFilter } = this.props;\r\n    const { location } = history;\r\n    let value = this.getQueryParams(location);\r\n    if (!value) {\r\n      value = '';\r\n    }\r\n    onChangeFilter(value);\r\n    this.unsubscribe = history.listen((location) => {\r\n      let value = this.getQueryParams(location);\r\n      if (!value) {\r\n        value = '';\r\n      }\r\n      onChangeFilter(value);\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { history } = this.props;\r\n    const { value } = e.target;\r\n    if (value) {\r\n      history.push({ search: `search=${value}` });\r\n    } else history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <div className=\"search-field\">\r\n        <h1 className=\"header-title\">Simple BookList</h1>\r\n        <input\r\n          className=\"search-input\"\r\n          onChange={this.handleChange}\r\n          type=\"search\"\r\n          value={value}\r\n          placeholder=\"Введите строку для поиска\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchBlock.propTypes = {\r\n  onChangeFilter: PropTypes.func.isRequired,\r\n  history: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\nexport default withRouter(SearchBlock);\r\n","import SearchBlock from './SearchBlock';\r\n\r\nexport default SearchBlock;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport NewBookBlock from '../NewBookBlock';\r\nimport BooksList from '../BooksList';\r\nimport SearchBlock from '../SearchBlock';\r\nimport './App.sass';\r\n\r\nconst App = ({\r\n  getBooks,\r\n  newBook,\r\n  changeNewBook,\r\n  postBook,\r\n  hasEmptyFields,\r\n  changeFilter,\r\n  visibleBooks,\r\n  deleteBook,\r\n  filter,\r\n  error,\r\n  isLoading,\r\n}) => (\r\n  <div className=\"wrap\">\r\n    <SearchBlock\r\n      onChangeFilter={changeFilter}\r\n      value={filter}\r\n    />\r\n    <NewBookBlock\r\n      newBook={newBook}\r\n      onChangeNewBook={changeNewBook}\r\n      onPostBook={postBook}\r\n      hasEmptyFields={hasEmptyFields}\r\n      isLoading={isLoading}\r\n    />\r\n    <BooksList\r\n      visibleBooks={visibleBooks}\r\n      onDeleteBook={deleteBook}\r\n      onGetBooks={getBooks}\r\n      error={error}\r\n      isLoading={isLoading}\r\n    />\r\n  </div>\r\n);\r\nApp.propTypes = {\r\n  getBooks: PropTypes.func.isRequired,\r\n  changeNewBook: PropTypes.func.isRequired,\r\n  postBook: PropTypes.func.isRequired,\r\n  deleteBook: PropTypes.func.isRequired,\r\n  changeFilter: PropTypes.func.isRequired,\r\n  visibleBooks: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n  filter: PropTypes.string.isRequired,\r\n  error: PropTypes.string.isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\nexport default App;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst getFilter = state => state.filter;\r\nconst getError = state => state.error;\r\nconst getBooks = state => state.books;\r\nconst getNewBook = state => state.newBook;\r\nconst getBook = state => state.book;\r\nconst getIsLoading = state => state.isLoading;\r\n\r\n\r\nexport const visibleBooksSelector = createSelector(\r\n  [getFilter, getBooks],\r\n  (filter, books) => {\r\n    if (!filter || filter === '') {\r\n      return books;\r\n    }\r\n    return books.filter(el => el.title.indexOf(filter) > -1);\r\n  },\r\n);\r\n\r\nexport const hasEmptyFieldsSelector = createSelector(\r\n  getNewBook,\r\n  newBook => Object.keys(newBook).some(item => newBook[item] === ''),\r\n);\r\n\r\nexport const newBookSelector = createSelector(\r\n  getNewBook,\r\n  newBook => newBook,\r\n);\r\n\r\nexport const filterSelector = createSelector(\r\n  getFilter,\r\n  filter => filter,\r\n);\r\n\r\nexport const findBookSelector = createSelector(\r\n  getBook,\r\n  book => book,\r\n);\r\n\r\nexport const errorSelector = createSelector(\r\n  getError,\r\n  error => error,\r\n);\r\n\r\nexport const isLoadingSelector = createSelector(\r\n  getIsLoading,\r\n  isLoading => isLoading,\r\n);\r\n","import AppContainer from './AppContainer';\r\n\r\nexport default AppContainer;\r\n","import { connect } from 'react-redux';\r\nimport App from './App';\r\nimport {\r\n  visibleBooksSelector,\r\n  hasEmptyFieldsSelector,\r\n  filterSelector,\r\n  newBookSelector,\r\n  errorSelector,\r\n  isLoadingSelector,\r\n} from '../../selectors';\r\nimport {\r\n  changeNewBookAction,\r\n  postBookRequestAction,\r\n  deleteBookRequestAction,\r\n  getBooksRequest,\r\n  changeFilterAction,\r\n} from '../../actions/index';\r\n\r\nconst mapStateToProps = state => ({\r\n  newBook: newBookSelector(state),\r\n  filter: filterSelector(state),\r\n  hasEmptyFields: hasEmptyFieldsSelector(state),\r\n  visibleBooks: visibleBooksSelector(state),\r\n  isLoading: isLoadingSelector(state),\r\n  error: errorSelector(state),\r\n});\r\n\r\nexport default\r\nconnect(mapStateToProps,\r\n  {\r\n    changeNewBook: changeNewBookAction,\r\n    postBook: postBookRequestAction,\r\n    deleteBook: deleteBookRequestAction,\r\n    getBooks: getBooksRequest,\r\n    changeFilter: changeFilterAction,\r\n  })(App);\r\n","import NotFound from './NotFound';\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './NotFound.sass';\r\n\r\nconst NotFound = () => (\r\n  <div className=\"not-found\">\r\n    <p className=\"not-found__text\">Элемент не найден! Вернуться <Link to=\"/\">на главную</Link></p>\r\n  </div>\r\n);\r\nexport default NotFound;\r\n","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport {\r\n  changeBookPropertyAction,\r\n  putBookRequestAction,\r\n  getBookRequestAction,\r\n} from '../../actions';\r\nimport fields from '../../constants/Fields';\r\nimport Preloader from '../Preloader';\r\nimport NotFound from '../NotFound';\r\nimport './BookDetails.sass';\r\nimport {\r\n  findBookSelector,\r\n  errorSelector,\r\n  isLoadingSelector,\r\n} from '../../selectors';\r\n\r\nconst mapStateToProps = state => ({\r\n  book: findBookSelector(state),\r\n  error: errorSelector(state),\r\n  isLoading: isLoadingSelector(state),\r\n});\r\nclass BookDetails extends PureComponent {\r\n  state = {\r\n    editableField: '',\r\n  }\r\n\r\n  inputFocusRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    const { match, getBook } = this.props;\r\n    const { id } = match.params;\r\n    getBook(id);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { editableField } = this.state;\r\n    if (editableField.length) {\r\n      this.inputFocusRef.current.focus();\r\n    }\r\n  }\r\n\r\n  handleDblClick = (e) => {\r\n    const { value } = e.target.attributes.name;\r\n    this.setState({ editableField: value });\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    this.handleInputEdit(e);\r\n  }\r\n\r\n  handleBlur = (e) => {\r\n    this.handleInputEdit(e);\r\n  };\r\n\r\n  handleInputEdit = (e) => {\r\n    const { editableField } = this.state;\r\n    const { putBook, book } = this.props;\r\n    if (!e.keyCode || e.keyCode === 13) {\r\n      if (book[editableField].length) {\r\n        putBook(book);\r\n        this.setState({ editableField: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n   handleChange = (e) => {\r\n     const { editableField } = this.state;\r\n     const { changeBookProperty } = this.props;\r\n     const text = e.target.value;\r\n     changeBookProperty(editableField, text);\r\n   }\r\n\r\n   render() {\r\n     const { editableField } = this.state;\r\n     const { book, isLoading, error } = this.props;\r\n     return (\r\n       isLoading ? <Preloader />\r\n         : (\r\n           !book ? <NotFound />\r\n             : (\r\n               <div className=\"books-wrap\">\r\n                 {error && <p>Ошибка! {error}</p>}\r\n                 {\r\n                  fields.map(field => (\r\n                    <div className=\"book\" key={field.name}>\r\n                      <span className=\"book__title\">{field.label}</span>\r\n                      {\r\n                    editableField === field.name ? (\r\n                      <input\r\n                        className=\"book__edit\"\r\n                        type=\"text\"\r\n                        ref={this.inputFocusRef}\r\n                        value={book[field.name]}\r\n                        onChange={this.handleChange}\r\n                        onBlur={this.handleBlur}\r\n                        onKeyDown={this.handleKeyDown}\r\n                      />\r\n                    ) : (\r\n                      <span\r\n                        className=\"book__value\"\r\n                        name={field.name}\r\n                        onDoubleClick={this.handleDblClick}\r\n                      >\r\n                        {book[field.name]}\r\n                      </span>\r\n                    )\r\n                  }\r\n                    </div>\r\n                  ))\r\n              }\r\n                 <Link className=\"link link_book\" to=\"/\"> Назад</Link>\r\n               </div>\r\n             )\r\n         )\r\n     );\r\n   }\r\n}\r\nBookDetails.propTypes = {\r\n  getBook: PropTypes.func.isRequired,\r\n  putBook: PropTypes.func.isRequired,\r\n  changeBookProperty: PropTypes.func.isRequired,\r\n  book: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  match: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  isLoading: PropTypes.bool.isRequired,\r\n};\r\nexport default connect(mapStateToProps,\r\n  {\r\n    changeBookProperty: changeBookPropertyAction,\r\n    putBook: putBookRequestAction,\r\n    getBook: getBookRequestAction,\r\n  })(BookDetails);\r\n","import BookDetails from './BookDetails';\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport AppContainer from './components/App';\r\nimport BookDetails from './components/BookDetails';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst routes = (\r\n  <Switch>\r\n    <Route\r\n      path=\"/\"\r\n      component={AppContainer}\r\n      exact\r\n    />\r\n    <Route\r\n      path=\"/books/:id\"\r\n      component={BookDetails}\r\n      exact\r\n    />\r\n    <Route\r\n      component={NotFound}\r\n    />\r\n  </Switch>\r\n);\r\nexport default routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport store from './store';\nimport routes from './routes';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      {routes}\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}