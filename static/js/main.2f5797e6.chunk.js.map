{"version":3,"sources":["utils/generateID.js","reducers/index.js","store.js","components/NewBookBlock/Field/index.js","components/NewBookBlock/Field/Field.jsx","constants/Fields.js","constants/Countries.js","constants/languagesList.js","components/NewBookBlock/index.js","components/NewBookBlock/NewBookBlock.jsx","components/BooksList/Book/index.js","components/BooksList/Book/Book.jsx","components/BooksList/index.js","components/BooksList/BooksList.jsx","components/SearchBlock/SearchBlock.jsx","components/SearchBlock/index.js","components/App/App.jsx","selectors/index.js","components/App/index.js","components/App/AppContainer.jsx","actions/index.js","constants/ActionTypes.js","components/NotFound/index.js","components/NotFound/NotFound.jsx","components/BookDetails/BookDetails.jsx","components/BookDetails/index.js","routes.jsx","index.js"],"names":["generateID","Math","random","toString","substr","initialState","newBook","title","country","language","pages","author","year","filter","books","JSON","parse","localStorage","getItem","store","createStore","state","arguments","length","undefined","action","type","payload","name","value","Object","objectSpread","defineProperty","filteredBooks","concat","toConsumableArray","assign","id","setItem","stringify","editableField","text","index","findIndex","el","updatedBook","newState","slice","composeWithDevTools","Field","handleChange","e","target","_this$props","_this","props","onChangeNewBook","_this$props2","this","label","isDropDown","options","react_default","a","createElement","htmlFor","className","onBlur","selected","map","item","key","placeholder","onChange","PureComponent","fields","NewBookBlock","handleClick","preventDefault","onAddNewBook","hasEmptyFields","field","NewBookBlock_Field","onClick","disabled","Component","Book","_PureComponent","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","onDeleteBook","inherits","createClass","react_router_dom","to","BooksList","_ref","visibleBooks","elements","book","BooksList_Book","SearchBlock","getQueryParams","location","URLSearchParams","search","get","handleLocationChange","history","onChangeFilter","unlisten","listen","push","withRouter","App","changeNewBook","addNewBook","changeFilter","deleteBook","components_SearchBlock","components_NewBookBlock","components_BooksList","getFilter","getBooks","getNewBook","visibleBooksSelector","createSelector","indexOf","hasEmptyFieldsSelector","keys","some","newBookSelector","filterSelector","bookSelector","ownProps","match","params","find","AppContainer","connect","NotFound","BookDetails","inputFocusRef","React","createRef","handleDblClick","attributes","setState","handleKeyDown","handleInputEdit","handleBlur","changeBookProperty","keyCode","current","focus","_this2","ref","onKeyDown","onDoubleClick","components_NotFound","routes","react_router","path","component","exact","ReactDOM","render","es","document","getElementById"],"mappings":"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ACA,cACA,UACA,UACA,SACA,aACA,iBACA,SACA,UACA,UACA,SACA,YACA,UACA,oBACA,WACA,UACA,wBACA,UACA,UACA,UACA,WACA,OACA,WACA,QACA,SACA,2BACA,QACA,WACA,UACA,YACA,WACA,MACA,UACA,SACA,UACA,SACA,WACA,WACA,SACA,eACA,iBACA,WACA,yBACA,QACA,kBACA,SACA,QACA,YACA,YACA,cACA,aACA,cACA,QACA,OACA,UACA,MACA,YACA,UACA,YACA,WACA,WACA,0BACA,UACA,SACA,WACA,SACA,QACA,gBACA,cACA,SACA,OACA,QACA,SACA,UACA,oBACA,QACA,8BACA,QACA,aACA,UACA,MACA,aACA,eACA,UACA,OACA,aACA,WACA,QACA,YACA,UACA,WACA,yCACA,cACA,YACA,QACA,gBACA,0BACA,gBACA,SACA,SACA,oBACA,YACA,QACA,gBACA,UACA,gBACA,uBACA,QACA,QACA,mBACA,kBACA,UACA,kBACA,SACA,gBACA,aACA,UACA,UACA,UACA,WACA,UACA,WACA,YACA,SACA,gBACA,SACA,QACA,UACA,kBACA,QACA,oBACA,SACA,UACA,SACA,iBACA,oBACA,UACA,YACA,UACA,QACA,UACA,QACA,SACA,QACA,OACA,WACA,UACA,UACA,UACA,SACA,wBACA,UACA,SACA,QACA,MACA,WACA,gBACA,YACA,OACA,QACA,QACA,aACA,iBACA,UACA,QACA,QACA,kBACA,QACA,UACA,SACA,gBACA,SFpKA,CACEjC,KAAM,QACN+B,MAAO,+CAET,CACE/B,KAAM,SACN+B,MAAO,mCAET,CACE/B,KAAM,OACN+B,MAAO,mEG5BIiB,oNCKbC,YAAc,SAAC1B,GACbA,EAAE2B,iBADiB,IAAAzB,EAEeC,EAAKC,MAA/BjD,EAFW+C,EAEX/C,SACRyE,EAHmB1B,EAEF0B,cACJzE,4EAGN,IAAAmD,EAKHC,KAAKH,MAHPjD,EAFKmD,EAELnD,QACAkD,EAHKC,EAGLD,gBACAwB,EAJKvB,EAILuB,eAEF,OACElB,EAAAC,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","file":"static/js/main.2f5797e6.chunk.js","sourcesContent":["const generateID = () => Math.random().toString(36).substr(2, 9);\r\n\r\nexport default generateID;\r\n","import generateID from '../utils/generateID';\r\n\r\nconst initialState = {\r\n  newBook: {\r\n    title: '',\r\n    country: 'Выберите',\r\n    language: '',\r\n    pages: '',\r\n    author: '',\r\n    year: '',\r\n  },\r\n  filter: '',\r\n  books: JSON.parse(localStorage.getItem('books')) || [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  const { books } = state;\r\n  switch (type) {\r\n    case 'CHANGE_NEW_BOOK': {\r\n      const { name, value } = payload;\r\n      const { newBook } = state;\r\n      return { ...state, newBook: { ...newBook, [name]: value } };\r\n    }\r\n    case 'ADD_NEW_BOOK': {\r\n      const filteredBooks = [...books, Object.assign({ id: generateID() }, payload)];\r\n      localStorage.setItem('books', JSON.stringify(filteredBooks));\r\n      return {\r\n        ...state,\r\n        newBook: {\r\n          author: '',\r\n          country: '',\r\n          language: '',\r\n          pages: '',\r\n          title: '',\r\n          year: '',\r\n        },\r\n        books: filteredBooks,\r\n      };\r\n    }\r\n    case 'CHANGE_FILTER': {\r\n      return { ...state, filter: payload };\r\n    }\r\n    case 'CHANGE_BOOK_PROPERTY': {\r\n      const { id, editableField, text } = payload;\r\n      const index = books.findIndex(el => el.id === id);\r\n      const updatedBook = Object.assign({}, { ...books[index], [editableField]: text });\r\n      const newState = {\r\n        ...state,\r\n        books: [\r\n          ...books.slice(0, index),\r\n          updatedBook,\r\n          ...books.slice(index + 1),\r\n        ],\r\n      };\r\n      localStorage.setItem('books', JSON.stringify(newState.books));\r\n      return newState;\r\n    }\r\n    case 'DELETE_BOOK': {\r\n      const filteredBooks = books.filter(el => el.id !== payload);\r\n      localStorage.setItem('books', JSON.stringify(filteredBooks));\r\n      return { ...state, books: filteredBooks };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, composeWithDevTools());\r\n\r\nexport default store;\r\n","import Field from './Field';\r\n\r\nexport default Field;","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Field.sass';\r\n\r\nexport default class Field extends PureComponent {\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    const { onChangeNewBook, name } = this.props;\r\n    onChangeNewBook(name, value);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      label,\r\n      isDropDown,\r\n      options,\r\n    } = this.props;\r\n    return (\r\n      isDropDown\r\n        ? (\r\n          <div\r\n            htmlFor={name}\r\n            className=\"field\"\r\n          >\r\n            <select\r\n              className=\"field__input\"\r\n              onBlur={this.handleChange}\r\n              selected={value}\r\n            >\r\n              <option>Выберите</option>\r\n              {\r\n          options.map(item => (\r\n            <option\r\n              key={item}\r\n              value={item}\r\n            >\r\n              {item}\r\n            </option>\r\n          ))}\r\n            </select>\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"field\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder={label}\r\n              className=\"field__input\"\r\n              value={value}\r\n              onChange={this.handleChange}\r\n            />\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\nField.propTypes = {\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  options: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  isDropDown: PropTypes.bool.isRequired,\r\n};\r\n","import languages from './languagesList';\r\nimport countries from './Countries';\r\n\r\nconst fields = [\r\n  {\r\n    name: 'title',\r\n    label: 'Название:',\r\n  },\r\n  {\r\n    name: 'country',\r\n    label: 'Страна издания:',\r\n    isDropDown: true,\r\n    options: countries,\r\n  },\r\n  {\r\n    name: 'language',\r\n    label: 'Язык:',\r\n    isDropDown: true,\r\n    options: languages,\r\n  },\r\n  {\r\n    name: 'pages',\r\n    label: 'Страниц:',\r\n  },\r\n  {\r\n    name: 'author',\r\n    label: 'Автор:',\r\n  },\r\n  {\r\n    name: 'year',\r\n    label: 'Год издания:',\r\n  },\r\n];\r\nexport default fields;\r\n","const countriesList = [\r\n  'Afghanistan',\r\n  'Albania',\r\n  'Algeria',\r\n  'Andorra',\r\n  'Angola',\r\n  'Anguilla',\r\n  'Antigua',\r\n  'Argentina',\r\n  'Armenia',\r\n  'Aruba',\r\n  'Australia',\r\n  'Austria',\r\n  'Azerbaijan',\r\n  'Bahamas',\r\n  'Bahrain',\r\n  'Bangladesh',\r\n  'Barbados',\r\n  'Belarus',\r\n  'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Cape Verde', 'Cayman Islands', 'Chad', 'Chile', 'China', 'Colombia', 'Congo', 'Cook Islands', 'Costa Rica', 'Cote D Ivoire', 'Croatia', 'Cruise Ship', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Estonia', 'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Polynesia', 'French West Indies', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kuwait', 'Kyrgyz Republic', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macau', 'Macedonia', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Mauritania', 'Mauritius', 'Mexico', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique', 'Namibia', 'Nepal', 'Netherlands', 'Netherlands Antilles', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Reunion', 'Romania', 'Russia', 'Rwanda', 'Saint Pierre & Miquelon', 'Samoa', 'San Marino', 'Satellite', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'South Africa', 'South Korea', 'Spain', 'Sri Lanka', 'St Kitts & Nevis', 'St Lucia', 'St Vincent', 'St. Lucia', 'Sudan', 'Suriname', 'Swaziland', 'Sweden', 'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor L Este', 'Togo', 'Tonga', 'Trinidad & Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'Uruguay', 'Uzbekistan', 'Venezuela', 'Vietnam', 'Virgin Islands (US)', 'Yemen', 'Zambia', 'Zimbabwe'];\r\nexport default countriesList;\r\n","const languages = [\r\n  'Abkhaz',\r\n  'Afar',\r\n  'Afrikaans',\r\n  'Akan',\r\n  'Albanian',\r\n  'Amharic',\r\n  'Arabic',\r\n  'Aragonese',\r\n  'Armenian',\r\n  'Assamese',\r\n  'Avaric',\r\n  'Avestan',\r\n  'Aymara',\r\n  'Azerbaijani',\r\n  'Bambara',\r\n  'Bashkir',\r\n  'Basque',\r\n  'Belarusian',\r\n  'Bengali Bangla',\r\n  'Bihari',\r\n  'Bislama',\r\n  'Bosnian',\r\n  'Breton',\r\n  'Bulgarian',\r\n  'Burmese',\r\n  'Catalan Valencian',\r\n  'Chamorro',\r\n  'Chechen',\r\n  'Chichewa Chewa Nyanja',\r\n  'Chinese',\r\n  'Chuvash',\r\n  'Cornish',\r\n  'Corsican',\r\n  'Cree',\r\n  'Croatian',\r\n  'Czech',\r\n  'Danish',\r\n  'Divehi Dhivehi Maldivian',\r\n  'Dutch',\r\n  'Dzongkha',\r\n  'English',\r\n  'Esperanto',\r\n  'Estonian',\r\n  'Ewe',\r\n  'Faroese',\r\n  'Fijian',\r\n  'Finnish',\r\n  'French',\r\n  'Galician',\r\n  'Georgian',\r\n  'German',\r\n  'Greek Modern',\r\n  'GuaranÃ­',\r\n  'Gujarati',\r\n  'Haitian Haitian Creole',\r\n  'Hausa',\r\n  'Hebrew (modern)',\r\n  'Herero',\r\n  'Hindi',\r\n  'Hiri Motu',\r\n  'Hungarian',\r\n  'Interlingua',\r\n  'Indonesian',\r\n  'Interlingue',\r\n  'Irish',\r\n  'Igbo',\r\n  'Inupiaq',\r\n  'Ido',\r\n  'Icelandic',\r\n  'Italian',\r\n  'Inuktitut',\r\n  'Japanese',\r\n  'Javanese',\r\n  'Kalaallisut Greenlandic',\r\n  'Kannada',\r\n  'Kanuri',\r\n  'Kashmiri',\r\n  'Kazakh',\r\n  'Khmer',\r\n  'Kikuyu Gikuyu',\r\n  'Kinyarwanda',\r\n  'Kyrgyz',\r\n  'Komi',\r\n  'Kongo',\r\n  'Korean',\r\n  'Kurdish',\r\n  'Kwanyama Kuanyama',\r\n  'Latin',\r\n  'Luxembourgish Letzeburgesch',\r\n  'Ganda',\r\n  'Limburgish',\r\n  'Lingala',\r\n  'Lao',\r\n  'Lithuanian',\r\n  'Luba-Katanga',\r\n  'Latvian',\r\n  'Manx',\r\n  'Macedonian',\r\n  'Malagasy',\r\n  'Malay',\r\n  'Malayalam',\r\n  'Maltese',\r\n  'MÄori',\r\n  'Marathi (MarÄá¹­hÄ«)',\r\n  'Marshallese',\r\n  'Mongolian',\r\n  'Nauru',\r\n  'Navajo Navaho',\r\n  'Norwegian BokmÃ¥l',\r\n  'North Ndebele',\r\n  'Nepali',\r\n  'Ndonga',\r\n  'Norwegian Nynorsk',\r\n  'Norwegian',\r\n  'Nuosu',\r\n  'South Ndebele',\r\n  'Occitan',\r\n  'Ojibwe Ojibwa',\r\n  'Old Church Slavonic ',\r\n  'Oromo',\r\n  'Oriya',\r\n  'Ossetian Ossetic',\r\n  'Panjabi Punjabi',\r\n  'PÄli',\r\n  'Persian (Farsi)',\r\n  'Polish',\r\n  'Pashto Pushto',\r\n  'Portuguese',\r\n  'Quechua',\r\n  'Romansh',\r\n  'Kirundi',\r\n  'Romanian',\r\n  'Russian',\r\n  'Sanskrit',\r\n  'Sardinian',\r\n  'Sindhi',\r\n  'Northern Sami',\r\n  'Samoan',\r\n  'Sango',\r\n  'Serbian',\r\n  'Scottish Gaelic',\r\n  'Shona',\r\n  'Sinhala Sinhalese',\r\n  'Slovak',\r\n  'Slovene',\r\n  'Somali',\r\n  'Southern Sotho',\r\n  'South Azerbaijani',\r\n  'Spanish',\r\n  'Sundanese',\r\n  'Swahili',\r\n  'Swati',\r\n  'Swedish',\r\n  'Tamil',\r\n  'Telugu',\r\n  'Tajik',\r\n  'Thai',\r\n  'Tigrinya',\r\n  'Tibetan',\r\n  'Turkmen',\r\n  'Tagalog',\r\n  'Tswana',\r\n  'Tonga (Tonga Islands)',\r\n  'Turkish',\r\n  'Tsonga',\r\n  'Tatar',\r\n  'Twi',\r\n  'Tahitian',\r\n  'Uyghur Uighur',\r\n  'Ukrainian',\r\n  'Urdu',\r\n  'Uzbek',\r\n  'Venda',\r\n  'Vietnamese',\r\n  'VolapÃ¼k',\r\n  'Walloon',\r\n  'Welsh',\r\n  'Wolof',\r\n  'Western Frisian',\r\n  'Xhosa',\r\n  'Yiddish',\r\n  'Yoruba',\r\n  'Zhuang Chuang',\r\n  'Zulu',\r\n];\r\nexport default languages;\r\n","import NewBookBlock from './NewBookBlock';\r\n\r\nexport default NewBookBlock;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Field from './Field';\r\nimport fields from '../../constants/Fields';\r\nimport './Fields.sass';\r\n\r\nexport default class NewBookBlock extends Component {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const { newBook, onAddNewBook } = this.props;\r\n    onAddNewBook(newBook);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      newBook,\r\n      onChangeNewBook,\r\n      hasEmptyFields,\r\n    } = this.props;\r\n    return (\r\n      <div className=\"fields\">\r\n        {fields.map(field => (\r\n          <Field\r\n            key={field.name}\r\n            onChangeNewBook={onChangeNewBook}\r\n            name={field.name}\r\n            value={newBook[field.name]}\r\n            label={field.label}\r\n            options={field.options}\r\n            isDropDown={field.isDropDown}\r\n          />\r\n        ))}\r\n        <button\r\n          className=\"btn btn_add-book\"\r\n          onClick={this.handleClick}\r\n          type=\"submit\"\r\n          disabled={hasEmptyFields}\r\n        >\r\n          Добавить\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nNewBookBlock.propTypes = {\r\n  onAddNewBook: PropTypes.func.isRequired,\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n};\r\n","import Book from './Book';\r\n\r\nexport default Book;\r\n","import React, { PureComponent } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class Book extends PureComponent {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const id = e.target.value;\r\n    const { onDeleteBook } = this.props;\r\n    onDeleteBook(id);\r\n  }\r\n\r\n  render() {\r\n    const { id, title } = this.props;\r\n    return (\r\n      <li>\r\n        <Link className=\"link\" to={`/books/${id}`}>\r\n          <div className=\"book-item\">\r\n            <div className=\"book-item__cover\" />\r\n            <h1 className=\"book-item__title\">{title}</h1>\r\n            <button\r\n              className=\"btn btn_delete-book\"\r\n              type=\"submit\"\r\n              value={id}\r\n              onClick={this.handleClick}\r\n            />\r\n          </div>\r\n        </Link>\r\n      </li>\r\n    );\r\n  }\r\n}\r\nBook.propTypes = {\r\n  onDeleteBook: PropTypes.func.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n};\r\nexport default Book;\r\n","import BooksList from './BooksList';\r\n\r\nexport default BooksList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Book from './Book';\r\nimport './BookList.sass';\r\n\r\nconst BooksList = ({ visibleBooks, onDeleteBook }) => {\r\n  const elements = visibleBooks.map(book => (\r\n    <Book\r\n      key={book.id}\r\n      id={book.id}\r\n      title={book.title}\r\n      onDeleteBook={onDeleteBook}\r\n    />\r\n  ));\r\n  return <ul className=\"book-list\">{elements}</ul>;\r\n};\r\n\r\nBooksList.propTypes = {\r\n  onDeleteBook: PropTypes.func.isRequired,\r\n  visibleBooks: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n};\r\nexport default BooksList;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './SearchBlock.sass';\r\n\r\nclass SearchBlock extends PureComponent {\r\n  componentDidMount() {\r\n    this.handleLocationChange();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  getQueryParams = location => new URLSearchParams(location.search).get('search');\r\n\r\n  handleLocationChange = () => {\r\n    const { history, onChangeFilter } = this.props;\r\n    const { location } = history;\r\n    let value = this.getQueryParams(location);\r\n    if (!value) {\r\n      value = '';\r\n    }\r\n    onChangeFilter(value);\r\n    this.unlisten = history.listen((location) => {\r\n      let value = this.getQueryParams(location);\r\n      if (!value) {\r\n        value = '';\r\n      }\r\n      onChangeFilter(value);\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { history } = this.props;\r\n    const { value } = e.target;\r\n    if (value) {\r\n      history.push({ search: `search=${value}` });\r\n    } else history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <div className=\"search-field\">\r\n        <h1 className=\"header-title\">Simple BookList</h1>\r\n        <input\r\n          className=\"search-input\"\r\n          onChange={this.handleChange}\r\n          type=\"search\"\r\n          value={value}\r\n          placeholder=\"Введите строку для поиска\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchBlock.propTypes = {\r\n  onChangeFilter: PropTypes.func.isRequired,\r\n  history: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\nexport default withRouter(SearchBlock);\r\n","import SearchBlock from './SearchBlock';\r\n\r\nexport default SearchBlock;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport NewBookBlock from '../NewBookBlock';\r\nimport BooksList from '../BooksList';\r\nimport SearchBlock from '../SearchBlock';\r\nimport './App.sass';\r\n\r\nconst App = ({\r\n  newBook,\r\n  changeNewBook,\r\n  addNewBook,\r\n  hasEmptyFields,\r\n  changeFilter,\r\n  visibleBooks,\r\n  deleteBook,\r\n  filter,\r\n}) => (\r\n  <div className=\"wrap\">\r\n    <SearchBlock\r\n      onChangeFilter={changeFilter}\r\n      value={filter}\r\n    />\r\n    <NewBookBlock\r\n      newBook={newBook}\r\n      onChangeNewBook={changeNewBook}\r\n      onAddNewBook={addNewBook}\r\n      hasEmptyFields={hasEmptyFields}\r\n    />\r\n    <BooksList\r\n      visibleBooks={visibleBooks}\r\n      onDeleteBook={deleteBook}\r\n    />\r\n  </div>\r\n);\r\nApp.propTypes = {\r\n  changeNewBook: PropTypes.func.isRequired,\r\n  addNewBook: PropTypes.func.isRequired,\r\n  deleteBook: PropTypes.func.isRequired,\r\n  changeFilter: PropTypes.func.isRequired,\r\n  visibleBooks: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n  filter: PropTypes.string.isRequired,\r\n};\r\nexport default App;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst getFilter = state => state.filter;\r\nconst getBooks = state => state.books;\r\nconst getNewBook = state => state.newBook;\r\nconst getId = (state, ownProps) => ownProps.match.params.id;\r\n\r\n\r\nexport const visibleBooksSelector = createSelector(\r\n  [getFilter, getBooks],\r\n  (filter, books) => {\r\n    if (!filter || filter === '') {\r\n      return books;\r\n    }\r\n    return books.filter(el => el.title.indexOf(filter) > -1);\r\n  },\r\n);\r\n\r\nexport const hasEmptyFieldsSelector = createSelector(\r\n  getNewBook,\r\n  newBook => Object.keys(newBook).some(item => newBook[item] === ''),\r\n);\r\n\r\nexport const newBookSelector = createSelector(\r\n  getNewBook,\r\n  newBook => newBook,\r\n);\r\nexport const filterSelector = createSelector(\r\n  getFilter,\r\n  filter => filter,\r\n);\r\nexport const bookSelector = createSelector(\r\n  [getBooks, getId],\r\n  (books, id) => books.find(el => el.id === id),\r\n);\r\n","import AppContainer from './AppContainer';\r\n\r\nexport default AppContainer;\r\n","import { connect } from 'react-redux';\r\nimport App from './App';\r\nimport {\r\n  visibleBooksSelector,\r\n  hasEmptyFieldsSelector,\r\n  filterSelector,\r\n  newBookSelector,\r\n} from '../../selectors';\r\nimport {\r\n  changeNewBookAction,\r\n  addNewBookAction,\r\n  changeFilterAction,\r\n  deleteBookAction,\r\n} from '../../actions/index';\r\n\r\nconst mapStateToProps = state => ({\r\n  newBook: newBookSelector(state),\r\n  filter: filterSelector(state),\r\n  hasEmptyFields: hasEmptyFieldsSelector(state),\r\n  visibleBooks: visibleBooksSelector(state),\r\n});\r\n\r\nexport default\r\nconnect(mapStateToProps,\r\n  {\r\n    changeNewBook: changeNewBookAction,\r\n    addNewBook: addNewBookAction,\r\n    changeFilter: changeFilterAction,\r\n    deleteBook: deleteBookAction,\r\n  })(App);\r\n","import {\r\n  CHANGE_NEW_BOOK,\r\n  ADD_NEW_BOOK,\r\n  CHANGE_FILTER,\r\n  CHANGE_BOOK_PROPERTY,\r\n  DELETE_BOOK,\r\n} from '../constants/ActionTypes';\r\n\r\nexport const changeNewBookAction = (name, value) => (\r\n  { type: CHANGE_NEW_BOOK, payload: { name, value } });\r\nexport const addNewBookAction = newBook => (\r\n  { type: ADD_NEW_BOOK, payload: newBook });\r\nexport const changeFilterAction = filter => (\r\n  { type: CHANGE_FILTER, payload: filter });\r\nexport const changeBookPropertyAction = (id, editableField, text) => (\r\n  { type: CHANGE_BOOK_PROPERTY, payload: { id, editableField, text } });\r\nexport const deleteBookAction = id => (\r\n  { type: DELETE_BOOK, payload: id });\r\n","export const CHANGE_NEW_BOOK = 'CHANGE_NEW_BOOK';\r\nexport const ADD_NEW_BOOK = 'ADD_NEW_BOOK';\r\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\r\nexport const CHANGE_BOOK_PROPERTY = 'CHANGE_BOOK_PROPERTY';\r\nexport const DELETE_BOOK = 'DELETE_BOOK';\r\n","import NotFound from './NotFound';\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './NotFound.sass';\r\n\r\nconst NotFound = () => (\r\n  <div className=\"not-found\">\r\n    <p className=\"not-found__text\">Элемент не найден! Вернуться <Link to=\"/\">на главную</Link></p>\r\n  </div>\r\n);\r\nexport default NotFound;\r\n","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { changeBookPropertyAction } from '../../actions';\r\nimport fields from '../../constants/Fields';\r\nimport NotFound from '../NotFound';\r\nimport './BookDetails.sass';\r\nimport { bookSelector } from '../../selectors';\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  book: bookSelector(state, ownProps),\r\n});\r\nclass BookDetails extends PureComponent {\r\n  state = {\r\n    editableField: '',\r\n  }\r\n\r\n  inputFocusRef = React.createRef();\r\n\r\n  /* /componentDidMount() {\r\n    const { books, match: { params: { id } }, other } = this.props;\r\n    this.setState({ book: books.find(el => el.id === id) });\r\n  }/ */\r\n\r\n  componentDidUpdate() {\r\n    const { editableField } = this.state;\r\n    if (editableField.length) {\r\n      this.inputFocusRef.current.focus();\r\n    }\r\n  }\r\n\r\n  handleDblClick = (e) => {\r\n    const { value } = e.target.attributes.name;\r\n    this.setState({ editableField: value });\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    this.handleInputEdit(e);\r\n  }\r\n\r\n  handleBlur = (e) => {\r\n    this.handleInputEdit(e);\r\n  };\r\n\r\n  handleInputEdit = (e) => {\r\n    const { editableField } = this.state;\r\n    const { changeBookProperty, book } = this.props;\r\n    const { id } = book;\r\n    const text = e.target.value;\r\n    if (!e.keyCode || e.keyCode === 13) {\r\n      if (book[editableField].length !== 0) {\r\n        changeBookProperty(id, editableField, text);\r\n        this.setState({ editableField: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n   handleChange = (e) => {\r\n     const { editableField } = this.state;\r\n     const { changeBookProperty, book } = this.props;\r\n     const { id } = book;\r\n     const text = e.target.value;\r\n     changeBookProperty(id, editableField, text);\r\n     // this.setState({ book: Object.assign({}, { ...book, [editableField]: text }) });\r\n   }\r\n\r\n   render() {\r\n     const { editableField } = this.state;\r\n     const { book } = this.props;\r\n     return (\r\n       book ? (\r\n         <div className=\"books-wrap\">\r\n           {\r\n            fields.map(field => (\r\n              <div className=\"book\" key={field.name}>\r\n                <span className=\"book__title\">{field.label}</span>\r\n                {\r\n                  editableField === field.name ? (\r\n                    <input\r\n                      className=\"book__edit\"\r\n                      type=\"text\"\r\n                      ref={this.inputFocusRef}\r\n                      value={book[field.name]}\r\n                      onChange={this.handleChange}\r\n                      onBlur={this.handleBlur}\r\n                      onKeyDown={this.handleKeyDown}\r\n                    />\r\n                  ) : (\r\n                    <span\r\n                      className=\"book__value\"\r\n                      name={field.name}\r\n                      onDoubleClick={this.handleDblClick}\r\n                    >\r\n                      {book[field.name]}\r\n                    </span>\r\n                  )\r\n                }\r\n              </div>\r\n            ))\r\n      }\r\n           <Link className=\"link link_book\" to=\"/\"> Назад</Link>\r\n         </div>\r\n       ) : (\r\n         <NotFound />\r\n       )\r\n     );\r\n   }\r\n}\r\nBookDetails.propTypes = {\r\n  changeBookProperty: PropTypes.func.isRequired,\r\n  book: PropTypes.objectOf(PropTypes.object).isRequired,\r\n};\r\nexport default connect(mapStateToProps,\r\n  { changeBookProperty: changeBookPropertyAction })(BookDetails);\r\n","import BookDetails from './BookDetails';\r\n\r\nexport default BookDetails;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport AppContainer from './components/App';\r\nimport BookDetails from './components/BookDetails';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst routes = (\r\n  <Switch>\r\n    <Route\r\n      path=\"/\"\r\n      component={AppContainer}\r\n      exact\r\n    />\r\n    <Route\r\n      path=\"/books/:id\"\r\n      component={BookDetails}\r\n      exact\r\n    />\r\n    <Route\r\n      component={NotFound}\r\n    />\r\n  </Switch>\r\n);\r\nexport default routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport store from './store';\nimport routes from './routes';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      {routes}\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}