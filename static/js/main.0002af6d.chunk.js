(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(a,e,n){a.exports=n(51)},43:function(a,e,n){},44:function(a,e,n){},45:function(a,e,n){},47:function(a,e,n){},48:function(a,e,n){},49:function(a,e,n){},50:function(a,e,n){},51:function(a,e,n){"use strict";n.r(e);var t=n(0),i=n.n(t),o=n(21),r=n.n(o),l=n(16),s=n(6),u=n(18),c=n(31),h=n(23),d=n(15),m=n(12),b=function(){return Math.random().toString(36).substr(2,9)},p={newBook:{title:"",country:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435",language:"",pages:"",author:"",year:""},filter:"",books:JSON.parse(localStorage.getItem("books"))||[]},g=Object(u.createStore)(function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0,n=e.type,t=e.payload,i=a.books;switch(n){case"CHANGE_NEW_BOOK":var o=t.name,r=t.value,l=a.newBook;return Object(m.a)({},a,{newBook:Object(m.a)({},l,Object(d.a)({},o,r))});case"ADD_NEW_BOOK":var s=Object.assign({id:b()},t),u=Object(m.a)({},a,{newBook:{author:"",country:"",language:"",pages:"",title:"",year:""},books:[].concat(Object(h.a)(i),[s])});return localStorage.setItem("books",JSON.stringify(u.books)),u;case"CHANGE_FILTER":return Object(m.a)({},a,{filter:t});case"CHANGE_BOOK_PROPERTY":var c=t.id,g=t.editableField,k=t.text,f=i.findIndex(function(a){return a.id===c}),y=Object.assign({},Object(m.a)({},i[f],Object(d.a)({},g,k))),v=Object(m.a)({},a,{books:[].concat(Object(h.a)(i.slice(0,f)),[y],Object(h.a)(i.slice(f+1)))});return localStorage.setItem("books",JSON.stringify(v.books)),v;case"DELETE_BOOK":var O=Object(m.a)({},a,{books:i.filter(function(a){return a.id!==t})});return localStorage.setItem("books",JSON.stringify(O.books)),O;default:return a}},Object(c.composeWithDevTools)()),k=n(14),f=n(7),y=n(8),v=n(10),O=n(9),E=n(11),B=(n(43),function(a){function e(){var a,n;Object(f.a)(this,e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(v.a)(this,(a=Object(O.a)(e)).call.apply(a,[this].concat(i)))).handleChange=function(a){var e=a.target.value,t=n.props;(0,t.onChangeNewBook)(t.name,e)},n}return Object(E.a)(e,a),Object(y.a)(e,[{key:"render",value:function(){var a=this.props,e=a.name,n=a.value,t=a.label,o=a.isDropDown,r=a.options;return o?i.a.createElement("div",{htmlFor:e,className:"field"},i.a.createElement("select",{className:"field__input",onBlur:this.handleChange,selected:n},i.a.createElement("option",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435"),r.map(function(a){return i.a.createElement("option",{key:a,value:a},a)})),i.a.createElement("span",{className:"field__label"},t)):i.a.createElement("div",{className:"field"},i.a.createElement("input",{type:"text",placeholder:t,className:"field__input",value:n,onChange:this.handleChange}),i.a.createElement("span",{className:"field__label"},t))}}]),e}(t.PureComponent)),N=[{name:"title",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},{name:"country",label:"\u0421\u0442\u0440\u0430\u043d\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",isDropDown:!0,options:["Afghanistan","Albania","Algeria","Andorra","Angola","Anguilla","Antigua","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia & Herzegovina","Botswana","Brazil","British Virgin Islands","Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Cape Verde","Cayman Islands","Chad","Chile","China","Colombia","Congo","Cook Islands","Costa Rica","Cote D Ivoire","Croatia","Cruise Ship","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Estonia","Ethiopia","Falkland Islands","Faroe Islands","Fiji","Finland","France","French Polynesia","French West Indies","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guam","Guatemala","Guernsey","Guinea","Guinea Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kuwait","Kyrgyz Republic","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macau","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Mauritania","Mauritius","Mexico","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Namibia","Nepal","Netherlands","Netherlands Antilles","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palestine","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russia","Rwanda","Saint Pierre & Miquelon","Samoa","San Marino","Satellite","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","South Africa","South Korea","Spain","Sri Lanka","St Kitts & Nevis","St Lucia","St Vincent","St. Lucia","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Timor L Este","Togo","Tonga","Trinidad & Tobago","Tunisia","Turkey","Turkmenistan","Turks & Caicos","Uganda","Ukraine","United Arab Emirates","United Kingdom","Uruguay","Uzbekistan","Venezuela","Vietnam","Virgin Islands (US)","Yemen","Zambia","Zimbabwe"]},{name:"language",label:"\u042f\u0437\u044b\u043a",isDropDown:!0,options:["Abkhaz","Afar","Afrikaans","Akan","Albanian","Amharic","Arabic","Aragonese","Armenian","Assamese","Avaric","Avestan","Aymara","Azerbaijani","Bambara","Bashkir","Basque","Belarusian","Bengali Bangla","Bihari","Bislama","Bosnian","Breton","Bulgarian","Burmese","Catalan Valencian","Chamorro","Chechen","Chichewa Chewa Nyanja","Chinese","Chuvash","Cornish","Corsican","Cree","Croatian","Czech","Danish","Divehi Dhivehi Maldivian","Dutch","Dzongkha","English","Esperanto","Estonian","Ewe","Faroese","Fijian","Finnish","French","Galician","Georgian","German","Greek Modern","Guaran\xc3\xad","Gujarati","Haitian Haitian Creole","Hausa","Hebrew (modern)","Herero","Hindi","Hiri Motu","Hungarian","Interlingua","Indonesian","Interlingue","Irish","Igbo","Inupiaq","Ido","Icelandic","Italian","Inuktitut","Japanese","Javanese","Kalaallisut Greenlandic","Kannada","Kanuri","Kashmiri","Kazakh","Khmer","Kikuyu Gikuyu","Kinyarwanda","Kyrgyz","Komi","Kongo","Korean","Kurdish","Kwanyama Kuanyama","Latin","Luxembourgish Letzeburgesch","Ganda","Limburgish","Lingala","Lao","Lithuanian","Luba-Katanga","Latvian","Manx","Macedonian","Malagasy","Malay","Malayalam","Maltese","M\xc4ori","Marathi (Mar\xc4\xe1\xb9\xadh\xc4\xab)","Marshallese","Mongolian","Nauru","Navajo Navaho","Norwegian Bokm\xc3\xa5l","North Ndebele","Nepali","Ndonga","Norwegian Nynorsk","Norwegian","Nuosu","South Ndebele","Occitan","Ojibwe Ojibwa","Old Church Slavonic ","Oromo","Oriya","Ossetian Ossetic","Panjabi Punjabi","P\xc4li","Persian (Farsi)","Polish","Pashto Pushto","Portuguese","Quechua","Romansh","Kirundi","Romanian","Russian","Sanskrit","Sardinian","Sindhi","Northern Sami","Samoan","Sango","Serbian","Scottish Gaelic","Shona","Sinhala Sinhalese","Slovak","Slovene","Somali","Southern Sotho","South Azerbaijani","Spanish","Sundanese","Swahili","Swati","Swedish","Tamil","Telugu","Tajik","Thai","Tigrinya","Tibetan","Turkmen","Tagalog","Tswana","Tonga (Tonga Islands)","Turkish","Tsonga","Tatar","Twi","Tahitian","Uyghur Uighur","Ukrainian","Urdu","Uzbek","Venda","Vietnamese","Volap\xc3\xbck","Walloon","Welsh","Wolof","Western Frisian","Xhosa","Yiddish","Yoruba","Zhuang Chuang","Zulu"]},{name:"pages",label:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446"},{name:"author",label:"\u0410\u0432\u0442\u043e\u0440:"},{name:"year",label:"\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f:"}],C=(n(44),function(a){function e(){var a,n;Object(f.a)(this,e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(v.a)(this,(a=Object(O.a)(e)).call.apply(a,[this].concat(i)))).handleClick=function(a){a.preventDefault();var e=n.props,t=e.newBook;(0,e.addNewBook)(t)},n}return Object(E.a)(e,a),Object(y.a)(e,[{key:"render",value:function(){var a=this.props,e=a.newBook,n=a.onChangeNewBook,t=a.hasEmptyFields;return i.a.createElement("form",null,i.a.createElement("div",{className:"fields"},N.map(function(a){return i.a.createElement(B,{key:a.name,onChangeNewBook:n,name:a.name,value:e[a.name],label:a.label,options:a.options,isDropDown:a.isDropDown})})),i.a.createElement("button",{onClick:this.handleClick,type:"submit",disabled:t},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"))}}]),e}(t.Component)),w=(n(45),function(a){function e(){var a,n;Object(f.a)(this,e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(v.a)(this,(a=Object(O.a)(e)).call.apply(a,[this].concat(i)))).handleClick=function(a){a.preventDefault();var e=a.target.value;(0,n.props.onDeleteBook)(e)},n}return Object(E.a)(e,a),Object(y.a)(e,[{key:"render",value:function(){var a=this,e=this.props.filterBooks;return i.a.createElement("ul",{className:"book-list"},e.map(function(e){return i.a.createElement("li",{key:e.id},i.a.createElement("div",{className:"book-item"},i.a.createElement("div",{className:"cover"}),i.a.createElement(s.b,{className:"link",to:"/books/".concat(e.id)},i.a.createElement("h1",{className:"title"},e.title)),i.a.createElement("button",{type:"submit",value:e.id,onClick:a.handleClick},"X")))}))}}]),e}(t.PureComponent)),S=n(33),j=(n(47),function(a){function e(){var a,n;Object(f.a)(this,e);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=Object(v.a)(this,(a=Object(O.a)(e)).call.apply(a,[this].concat(i)))).getQueryParams=function(a){return new URLSearchParams(a.search).get("search")},n.handleLocationChange=function(){var a=n.props,e=a.history,t=a.onChangeFilter,i=e.location,o=n.getQueryParams(i);t(o),n.unlisten=e.listen(function(a){var e=n.getQueryParams(a);e||(Object(S.a)("value"),e=""),t(e)})},n.handleChange=function(a){var e=n.props.history,t=a.target.value;t?e.push({search:"search=".concat(t)}):e.push("/")},n}return Object(E.a)(e,a),Object(y.a)(e,[{key:"componentDidMount",value:function(){this.handleLocationChange()}},{key:"componentWillUnmount",value:function(){this.unlisten()}},{key:"render",value:function(){var a=this.props.value;return i.a.createElement("div",{className:"search-field"},i.a.createElement("h1",{className:"header-title"},"Simple BookList"),i.a.createElement("input",{className:"search-input",onChange:this.handleChange,type:"text",value:a,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"}))}}]),e}(t.PureComponent)),A=Object(k.f)(j),D=(n(48),function(a){var e=a.newBook,n=a.changeNewBook,t=a.addNewBook,o=a.hasEmptyFields,r=a.changeFilter,l=a.filterBooks,s=a.deleteBook,u=a.filter;return i.a.createElement("div",{className:"wrap"},i.a.createElement(A,{onChangeFilter:r,value:u}),i.a.createElement(C,{newBook:e,onChangeNewBook:n,addNewBook:t,hasEmptyFields:o}),i.a.createElement(w,{filterBooks:l,onDeleteBook:s}))}),I=n(20),M=function(a){return a.filter},F=function(a){return a.newBook},K=Object(I.a)([M,function(a){return a.books}],function(a,e){return a&&""!==a?e.filter(function(e){return e.title.indexOf(a)>-1}):e}),T=Object(I.a)([F],function(a){return Object.keys(a).some(function(e){return""===a[e]})}),P=Object(I.a)([F],function(a){return a}),G=Object(I.a)([M],function(a){return a}),_=Object(l.b)(function(a){return{newBook:P(a),filter:G(a),hasEmptyFields:T(a),filterBooks:K(a)}},{changeNewBook:function(a,e){return{type:"CHANGE_NEW_BOOK",payload:{name:a,value:e}}},addNewBook:function(a){return{type:"ADD_NEW_BOOK",payload:a}},changeFilter:function(a){return{type:"CHANGE_FILTER",payload:a}},deleteBook:function(a){return{type:"DELETE_BOOK",payload:a}}})(D),L=(n(49),function(){return i.a.createElement("div",{className:"not-found"},i.a.createElement("p",{className:"not-found__text"},"\u042d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d! \u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f ",i.a.createElement(s.b,{to:"/"},"\u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))}),R=(n(50),function(a){function e(){var a,n;Object(f.a)(this,e);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=Object(v.a)(this,(a=Object(O.a)(e)).call.apply(a,[this].concat(o)))).state={book:null,editableField:""},n.inputFocusRef=i.a.createRef(),n.handleDblClick=function(a){var e=a.target.attributes.name.value;n.setState({editableField:e})},n.handleKeyDown=function(a){n.handleInputEdit(a)},n.handleBlur=function(a){n.handleInputEdit(a)},n.handleInputEdit=function(a){var e=n.state,t=e.editableField,i=e.book,o=n.props.changeBookProperty,r=i.id,l=a.target.value;a.keyCode&&13!==a.keyCode||0!==i[t].length&&(o(r,t,l),n.setState({editableField:""}))},n.handleChange=function(a){var e=n.state,t=e.editableField,i=e.book,o=a.target.value;n.setState({book:Object.assign({},Object(m.a)({},i,Object(d.a)({},t,o)))})},n}return Object(E.a)(e,a),Object(y.a)(e,[{key:"componentDidMount",value:function(){var a=this.props,e=a.books,n=a.match.params.id;this.setState({book:e.find(function(a){return a.id===n})})}},{key:"componentDidUpdate",value:function(){0!==this.state.editableField.length&&this.inputFocusRef.current.focus()}},{key:"render",value:function(){var a=this,e=this.state,n=e.book,t=e.editableField;return n?i.a.createElement("div",{className:"books-wrap"},N.map(function(e){return i.a.createElement("div",{className:"book",key:e.name},i.a.createElement("span",{className:"book__title"},e.label),t===e.name?i.a.createElement("input",{className:"book__edit",type:"text",ref:a.inputFocusRef,value:n[e.name],onChange:a.handleChange,onBlur:a.handleBlur,onKeyDown:a.handleKeyDown}):i.a.createElement("span",{className:"book__value",name:e.name,onDoubleClick:a.handleDblClick},n[e.name]))}),i.a.createElement(s.b,{className:"link link_book",to:"/"}," \u041d\u0430\u0437\u0430\u0434")):i.a.createElement(L,null)}}]),e}(t.PureComponent)),z=Object(l.b)(function(a){return{books:a.books}},{changeBookProperty:function(a,e,n){return{type:"CHANGE_BOOK_PROPERTY",payload:{id:a,editableField:e,text:n}}}})(R),H=i.a.createElement(k.c,null,i.a.createElement(k.a,{path:"/",component:_,exact:!0}),i.a.createElement(k.a,{path:"/books/:id",component:z,exact:!0}),i.a.createElement(k.a,{component:L}));r.a.render(i.a.createElement(s.a,null,i.a.createElement(l.a,{store:g},H)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0002af6d.chunk.js.map