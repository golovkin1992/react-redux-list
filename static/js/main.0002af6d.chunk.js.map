{"version":3,"sources":["utils/generateID.js","reducers/index.js","store.js","components/NewBookBlock/Field/index.js","components/NewBookBlock/Field/Field.jsx","constants/Fields.js","constants/Countries.js","constants/languagesList.js","components/NewBookBlock/index.js","components/NewBookBlock/NewBookBlock.jsx","components/BooksList/index.js","components/BooksList/BooksList.jsx","components/SearchBlock/SearchBlock.jsx","components/SearchBlock/index.js","components/App/App.jsx","selectors/index.js","components/App/index.js","components/App/AppContainer.jsx","actions/index.js","constants/ActionTypes.js","components/NotFound/index.js","components/NotFound/NotFound.jsx","components/BooksList/Book/Book.jsx","components/BooksList/Book/index.js","routes.jsx","index.js"],"names":["generateID","Math","random","toString","substr","initialState","newBook","title","country","language","pages","author","year","filter","books","JSON","parse","localStorage","getItem","store","createStore","state","arguments","length","undefined","action","type","payload","name","value","Object","objectSpread","defineProperty","book","assign","id","newState","concat","toConsumableArray","setItem","stringify","editableField","text","index","findIndex","el","updatedObj","slice","composeWithDevTools","Field","handleChange","e","target","_this$props","_this","props","onChangeNewBook","_this$props2","this","label","isDropDown","options","react_default","a","createElement","htmlFor","className","onBlur","selected","map","item","key","placeholder","onChange","PureComponent","fields","NewBookBlock","handleClick","preventDefault","addNewBook","hasEmptyFields","field","NewBookBlock_Field","onClick","disabled","Component","BooksList","_PureComponent","_getPrototypeOf2","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","onDeleteBook","inherits","createClass","_this2","filterBooks","react_router_dom","to","SearchBlock","getQueryParams","location","URLSearchParams","search","get","handleLocationChange","history","onChangeFilter","unlisten","listen","readOnlyError","push","withRouter","App","_ref","changeNewBook","changeFilter","deleteBook","components_SearchBlock","components_NewBookBlock","components_BooksList","getFilter","getNewBook","getVisibleBooksSelector","createSelector","indexOf","hasEmptyFieldsSelector","keys","some","getNewBookSelector","filterSelector","AppContainer","connect","newBOOK","NotFound","Book","inputFocusRef","React","createRef","handleDblClick","attributes","setState","handleKeyDown","handleInputEdit","handleBlur","_this$state","changeBookProperty","keyCode","_this$state2","match","params","find","current","focus","_this$state3","ref","onKeyDown","onDoubleClick","components_NotFound","routes","react_router","path","component","exact","ReactDOM","render","es","document","getElementById"],"mappings":"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YACA,WACA,WACA,SACA,UACA,SACA,cACA,UACA,UACA,SACA,aACA,iBACA,SACA,UACA,UACA,SACA,YACA,UACA,oBACA,WACA,UACA,wBACA,UACA,UACA,UACA,WACA,OACA,WACA,QACA,SACA,2BACA,QACA,WACA,UACA,YACA,WACA,MACA,UACA,SACA,UACA,SACA,WACA,WACA,SACA,eACA,iBACA,WACA,yBACA,QACA,kBACA,SACA,QACA,YACA,YACA,cACA,aACA,cACA,QACA,OACA,UACA,MACA,YACA,UACA,YACA,WACA,WACA,0BACA,UACA,SACA,WACA,SACA,QACA,gBACA,cACA,SACA,OACA,QACA,SACA,UACA,oBACA,QACA,8BACA,QACA,aACA,UACA,MACA,aACA,eACA,UACA,OACA,aACA,WACA,QACA,YACA,UACA,WACA,yCACA,cACA,YACA,QACA,gBACA,0BACA,gBACA,SACA,SACA,oBACA,YACA,QACA,gBACA,UACA,gBACA,uBACA,QACA,QACA,mBACA,kBACA,UACA,kBACA,SACA,gBACA,aACA,UACA,UACA,UACA,WACA,UACA,WACA,YACA,SACA,gBACA,SACA,QACA,UACA,kBACA,QACA,oBACA,SACA,UACA,SACA,iBACA,oBACA,UACA,YACA,UACA,QACA,UACA,QACA,SACA,QACA,OACA,WACA,UACA,UACA,UACA,SACA,wBACA,UACA,SACA,QACA,MACA,WACA,gBACA,YACA,OACA,QACA,QACA,aACA,iBACA,UACA,QACA,QACA,kBACA,QACA,UACA,SACA,gBACA,SFpKA,CACEjC,KAAM,QACN+B,MAAO,8CAET,CACE/B,KAAM,SACN+B,MAAO,mCAET,CACE/B,KAAM,OACN+B,MAAO,mEG5BIiB,oNCKbC,YAAc,SAAC1B,GACbA,EAAE2B,iBADiB,IAAAzB,EAEaC,EAAKC,MAA7BjD,EAFW+C,EAEX/C,SACRyE,EAHmB1B,EAEF0B,YACNzE,4EAGJ,IAAAmD,EAKHC,KAAKH,MAHPjD,EAFKmD,EAELnD,QACAkD,EAHKC,EAGLD,gBACAwB,EAJKvB,EAILuB,eAEF,OACElB,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACZS,EAAON,IAAI,SAAAY,GAAK,OACfnB,EAAAC,EAAAC,cAACkB,EAAD,CACEX,IAAKU,EAAMrD,KACX4B,gBAAiBA,EACjB5B,KAAMqD,EAAMrD,KACZC,MAAOvB,EAAQ2E,EAAMrD,MACrB+B,MAAOsB,EAAMtB,MACbE,QAASoB,EAAMpB,QACfD,WAAYqB,EAAMrB,gBAKxBE,EAAAC,EAAAC,cAAA,UACEmB,QAASzB,KAAKmB,YACdnD,KAAK,SACL0D,SAAUJ,GAHZ,4DA7BkCK,cCJ3BC,SCGf,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAlC,EAAAxB,OAAA2D,EAAA,EAAA3D,CAAA4B,KAAA4B,GAAA,QAAAI,EAAApE,UAAAC,OAAAoE,EAAA,IAAAC,MAAAF,GAAAG,EAAA,EAAAA,EAAAH,EAAAG,IAAAF,EAAAE,GAAAvE,UAAAuE,GAAA,OAAAvC,EAAAxB,OAAAgE,EAAA,EAAAhE,CAAA4B,MAAA8B,EAAA1D,OAAAiE,EAAA,EAAAjE,CAAAwD,IAAAU,KAAAC,MAAAT,EAAA,CAAA9B,MAAArB,OAAAsD,MACEd,YAAc,SAAC1B,GACbA,EAAE2B,iBACF,IAAM3C,EAAKgB,EAAEC,OAAOvB,OAEpBqE,EADyB5C,EAAKC,MAAtB2C,cACK/D,IALjBmB,EAAA,OAAAxB,OAAAqE,EAAA,EAAArE,CAAAwD,EAAAC,GAAAzD,OAAAsE,EAAA,EAAAtE,CAAAwD,EAAA,EAAAf,IAAA,SAAA1C,MAAA,WAQW,IAAAwE,EAAA3C,KACC4C,EAAgB5C,KAAKH,MAArB+C,YACR,OACExC,EAAAC,EAAAC,cAAA,MAAIE,UAAU,aAEZoC,EAAYjC,IAAI,SAAApC,GAAI,OAClB6B,EAAAC,EAAAC,cAAA,MAAIO,IAAKtC,EAAKE,IACZ2B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,UACfJ,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMrC,UAAU,OAAOsC,GAAE,UAAAnE,OAAYJ,EAAKE,KACxC2B,EAAAC,EAAAC,cAAA,MAAIE,UAAU,SAASjC,EAAK1B,QAE9BuD,EAAAC,EAAAC,cAAA,UACEtC,KAAK,SACLG,MAAOI,EAAKE,GACZgD,QAASkB,EAAKxB,aAHhB,cApBdS,EAAA,CAA+BZ,0BCAzB+B,oNAUJC,eAAiB,SAAAC,GAAQ,OAAI,IAAIC,gBAAgBD,EAASE,QAAQC,IAAI,aAEtEC,qBAAuB,WAAM,IAAA1D,EACSC,EAAKC,MAAjCyD,EADmB3D,EACnB2D,QAASC,EADU5D,EACV4D,eACTN,EAAaK,EAAbL,SACF9E,EAAQyB,EAAKoD,eAAeC,GAClCM,EAAepF,GACfyB,EAAK4D,SAAWF,EAAQG,OAAO,SAACR,GAC9B,IAAM9E,EAAQyB,EAAKoD,eAAeC,GAC7B9E,IACEC,OAAAsF,EAAA,EAAAtF,CAAA,SAALD,EAAQ,IAEVoF,EAAepF,QAInBqB,aAAe,SAACC,GAAM,IACZ6D,EAAY1D,EAAKC,MAAjByD,QACAnF,EAAUsB,EAAEC,OAAZvB,MACJA,EACFmF,EAAQK,KAAK,CAAER,OAAM,UAAAxE,OAAYR,KAC5BmF,EAAQK,KAAK,yFA7BpB3D,KAAKqD,sEAKLrD,KAAKwD,4CA2BE,IACCrF,EAAU6B,KAAKH,MAAf1B,MACR,OACEiC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,gBAAd,mBACAJ,EAAAC,EAAAC,cAAA,SACEE,UAAU,eACVO,SAAUf,KAAKR,aACfxB,KAAK,OACLG,MAAOA,EACP2C,YAAY,oJA5CIE,kBCHX+B,ED0DAa,YAAWb,GEjBXc,SApCH,SAAAC,GAAA,IACVlH,EADUkH,EACVlH,QACAmH,EAFUD,EAEVC,cACA1C,EAHUyC,EAGVzC,WACAC,EAJUwC,EAIVxC,eACA0C,EALUF,EAKVE,aACApB,EANUkB,EAMVlB,YACAqB,EAPUH,EAOVG,WACA9G,EARU2G,EAQV3G,OARU,OAUViD,EAAAC,EAAAC,cAAA,OAAKE,UAAU,QACbJ,EAAAC,EAAAC,cAAC4D,EAAD,CACEX,eAAgBS,EAChB7F,MAAOhB,IAETiD,EAAAC,EAAAC,cAAC6D,EAAD,CACEvH,QAASA,EACTkD,gBAAiBiE,EACjB1C,WAAYA,EACZC,eAAgBA,IAElBlB,EAAAC,EAAAC,cAAC8D,EAAD,CACExB,YAAaA,EACbJ,aAAcyB,eC5BdI,EAAY,SAAA1G,GAAK,OAAIA,EAAMR,QAE3BmH,EAAa,SAAA3G,GAAK,OAAIA,EAAMf,SAErB2H,EAA0BC,YACrC,CAACH,EAJc,SAAA1G,GAAK,OAAIA,EAAMP,QAK9B,SAACD,EAAQC,GACP,OAAKD,GAAqB,KAAXA,EAGRC,EAAMD,OAAO,SAAAgC,GAAE,OAAIA,EAAGtC,MAAM4H,QAAQtH,IAAW,IAF7CC,IAMAsH,EAAyBF,YACpC,CAACF,GACD,SAAA1H,GAAO,OAAIwB,OAAOuG,KAAK/H,GAASgI,KAAK,SAAAhE,GAAI,MAAsB,KAAlBhE,EAAQgE,OAG1CiE,EAAqBL,YAChC,CAACF,GACD,SAAA1H,GAAO,OAAIA,IAEAkI,EAAiBN,YAC5B,CAACH,GACD,SAAAlH,GAAM,OAAIA,ICzBG4H,ECqBfC,YARwB,SAAArH,GAAK,MAAK,CAChCf,QAASiI,EAAmBlH,GAC5BR,OAAQ2H,EAAenH,GACvB2D,eAAgBoD,EAAuB/G,GACvCiF,YAAa2B,EAAwB5G,KAKrC,CACEoG,cCjB+B,SAAC7F,EAAMC,GAAP,MACjC,CAAEH,KCT2B,kBDSJC,QAAS,CAAEC,OAAMC,WDiBxCkD,WChB4B,SAAA4D,GAAO,MACrC,CAAEjH,KCVwB,eDUJC,QAASgH,IDgB7BjB,aCf8B,SAAA7G,GAAM,MACtC,CAAEa,KCXyB,gBDWJC,QAASd,IDe9B8G,WCZ4B,SAAAxF,GAAE,MAChC,CAAET,KCbuB,cDaJC,QAASQ,KDMhCuG,CAMKnB,GG3BUqB,SCEE,kBACf9E,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAAA,KAAGE,UAAU,mBAAb,wJAA4DJ,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMC,GAAG,KAAT,+DCO1DqC,oNACJxH,MAAQ,CACNY,KAAM,KACNQ,cAAe,MAGjBqG,cAAgBC,IAAMC,cActBC,eAAiB,SAAC9F,GAAM,IACdtB,EAAUsB,EAAEC,OAAO8F,WAAWtH,KAA9BC,MACRyB,EAAK6F,SAAS,CAAE1G,cAAeZ,OAGjCuH,cAAgB,SAACjG,GACfG,EAAK+F,gBAAgBlG,MAGvBmG,WAAa,SAACnG,GACZG,EAAK+F,gBAAgBlG,MAGvBkG,gBAAkB,SAAClG,GAAM,IAAAoG,EACSjG,EAAKjC,MAA7BoB,EADe8G,EACf9G,cAAeR,EADAsH,EACAtH,KACfuH,EAAuBlG,EAAKC,MAA5BiG,mBACArH,EAAOF,EAAPE,GACFO,EAAOS,EAAEC,OAAOvB,MACjBsB,EAAEsG,SAAyB,KAAdtG,EAAEsG,SACiB,IAA/BxH,EAAKQ,GAAelB,SACtBiI,EAAmBrH,EAAIM,EAAeC,GACtCY,EAAK6F,SAAS,CAAE1G,cAAe,SAKpCS,aAAe,SAACC,GAAM,IAAAuG,EACYpG,EAAKjC,MAA7BoB,EADYiH,EACZjH,cAAeR,EADHyH,EACGzH,KACjBS,EAAOS,EAAEC,OAAOvB,MACtByB,EAAK6F,SAAS,CAAElH,KAAMH,OAAOI,OAAO,GAAdJ,OAAAC,EAAA,EAAAD,CAAA,GAAuBG,EAAvBH,OAAAE,EAAA,EAAAF,CAAA,GAA8BW,EAAgBC,2FAzCnD,IAAAW,EAC2BK,KAAKH,MAA1CzC,EADUuC,EACVvC,MAA0BqB,EADhBkB,EACHsG,MAASC,OAAUzH,GAClCuB,KAAKyF,SAAS,CAAElH,KAAMnB,EAAM+I,KAAK,SAAAhH,GAAE,OAAIA,EAAGV,KAAOA,mDAKpB,IADHuB,KAAKrC,MAAvBoB,cACUlB,QAChBmC,KAAKoF,cAAcgB,QAAQC,yCAoCrB,IAAA1D,EAAA3C,KAAAsG,EACyBtG,KAAKrC,MAA7BY,EADD+H,EACC/H,KAAMQ,EADPuH,EACOvH,cACd,OAEGR,EAGC6B,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cAElBS,EAAON,IAAI,SAAAY,GAAK,OACdnB,EAAAC,EAAAC,cAAA,OAAKE,UAAU,OAAOK,IAAKU,EAAMrD,MAC/BkC,EAAAC,EAAAC,cAAA,QAAME,UAAU,eAAee,EAAMtB,OAEpClB,IAAkBwC,EAAMrD,KACtBkC,EAAAC,EAAAC,cAAA,SACEE,UAAU,aACVxC,KAAK,OACLuI,IAAK5D,EAAKyC,cACVjH,MAAOI,EAAKgD,EAAMrD,MAClB6C,SAAU4B,EAAKnD,aACfiB,OAAQkC,EAAKiD,WACbY,UAAW7D,EAAK+C,gBAGlBtF,EAAAC,EAAAC,cAAA,QACEE,UAAU,cACVtC,KAAMqD,EAAMrD,KACZuI,cAAe9D,EAAK4C,gBAEnBhH,EAAKgD,EAAMrD,UAMhBkC,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMrC,UAAU,iBAAiBsC,GAAG,KAApC,oCA9BF1C,EAAAC,EAAAC,cAACoG,EAAD,aAzDU1F,kBCXJmE,ED6GAH,YArGS,SAAArH,GAAK,MAAK,CAChCP,MAAOO,EAAMP,QAoGyB,CAAE0I,mBJjGF,SAACrH,EAAIM,EAAeC,GAApB,MACtC,CAAEhB,KCZgC,uBDYJC,QAAS,CAAEQ,KAAIM,gBAAeC,WIgG/CgG,CAA2EG,GExF3EwB,EAhBbvG,EAAAC,EAAAC,cAACsG,EAAA,EAAD,KACExG,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CACEC,KAAK,IACLC,UAAW/B,EACXgC,OAAK,IAEP3G,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CACEC,KAAK,aACLC,UAAW3B,EACX4B,OAAK,IAEP3G,EAAAC,EAAAC,cAACsG,EAAA,EAAD,CACEE,UAAW5B,KCZjB8B,IAASC,OACP7G,EAAAC,EAAAC,cAACuC,EAAA,EAAD,KACEzC,EAAAC,EAAAC,cAAC4G,EAAA,EAAD,CAAUzJ,MAAOA,GACdkJ,IAGLQ,SAASC,eAAe","file":"static/js/main.0002af6d.chunk.js","sourcesContent":["const generateID = () => Math.random().toString(36).substr(2, 9);\r\n\r\nexport default generateID;\r\n","import generateID from '../utils/generateID';\r\n\r\nconst initialState = {\r\n  newBook: {\r\n    title: '',\r\n    country: 'Выберите',\r\n    language: '',\r\n    pages: '',\r\n    author: '',\r\n    year: '',\r\n  },\r\n  filter: '',\r\n  books: JSON.parse(localStorage.getItem('books')) || [],\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  const { type, payload } = action;\r\n  const { books } = state;\r\n  switch (type) {\r\n    case 'CHANGE_NEW_BOOK': {\r\n      const { name, value } = payload;\r\n      const { newBook } = state;\r\n      return { ...state, newBook: { ...newBook, [name]: value } };\r\n    }\r\n    case 'ADD_NEW_BOOK': {\r\n      const book = Object.assign({ id: generateID() }, payload);\r\n      const newState = {\r\n        ...state,\r\n        newBook: {\r\n          author: '',\r\n          country: '',\r\n          language: '',\r\n          pages: '',\r\n          title: '',\r\n          year: '',\r\n        },\r\n        books: [...books, book],\r\n      };\r\n      localStorage.setItem('books', JSON.stringify(newState.books));\r\n      return newState;\r\n    }\r\n    case 'CHANGE_FILTER': {\r\n      return { ...state, filter: payload };\r\n    }\r\n    case 'CHANGE_BOOK_PROPERTY': {\r\n      const { id, editableField, text } = payload;\r\n      const index = books.findIndex(el => el.id === id);\r\n      const updatedObj = Object.assign({}, { ...books[index], [editableField]: text });\r\n      const newState = {\r\n        ...state,\r\n        books: [\r\n          ...books.slice(0, index),\r\n          updatedObj,\r\n          ...books.slice(index + 1),\r\n        ],\r\n      };\r\n      localStorage.setItem('books', JSON.stringify(newState.books));\r\n      return newState;\r\n    }\r\n    case 'DELETE_BOOK': {\r\n      const newState = { ...state, books: books.filter(el => el.id !== payload) };\r\n      localStorage.setItem('books', JSON.stringify(newState.books));\r\n      return newState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport reducers from './reducers';\r\n\r\nconst store = createStore(reducers, composeWithDevTools());\r\n\r\nexport default store;\r\n","import Field from './Field';\r\n\r\nexport default Field;","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './Field.sass';\r\n\r\nexport default class Field extends PureComponent {\r\n  handleChange = (e) => {\r\n    const { value } = e.target;\r\n    const { onChangeNewBook, name } = this.props;\r\n    onChangeNewBook(name, value);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      value,\r\n      label,\r\n      isDropDown,\r\n      options,\r\n    } = this.props;\r\n    return (\r\n      isDropDown\r\n        ? (\r\n          <div\r\n            htmlFor={name}\r\n            className=\"field\"\r\n          >\r\n            <select\r\n              className=\"field__input\"\r\n              onBlur={this.handleChange}\r\n              selected={value}\r\n              // value={value}\r\n            >\r\n              <option>Выберите</option>\r\n              {\r\n          options.map(item => (\r\n            <option\r\n              key={item}\r\n              value={item}\r\n            >\r\n              {item}\r\n            </option>\r\n          ))}\r\n            </select>\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"field\"\r\n          >\r\n            <input\r\n              type=\"text\"\r\n              placeholder={label}\r\n              className=\"field__input\"\r\n              value={value}\r\n              onChange={this.handleChange}\r\n            />\r\n            <span className=\"field__label\">{label}</span>\r\n          </div>\r\n        )\r\n    );\r\n  }\r\n}\r\nField.propTypes = {\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  label: PropTypes.string.isRequired,\r\n  options: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  isDropDown: PropTypes.bool.isRequired,\r\n};\r\n","import languages from './languagesList';\r\nimport countries from './Countries';\r\n\r\nconst fields = [\r\n  {\r\n    name: 'title',\r\n    label: 'Название',\r\n  },\r\n  {\r\n    name: 'country',\r\n    label: 'Страна издания',\r\n    isDropDown: true,\r\n    options: countries,\r\n  },\r\n  {\r\n    name: 'language',\r\n    label: 'Язык',\r\n    isDropDown: true,\r\n    options: languages,\r\n  },\r\n  {\r\n    name: 'pages',\r\n    label: 'Страниц',\r\n  },\r\n  {\r\n    name: 'author',\r\n    label: 'Автор:',\r\n  },\r\n  {\r\n    name: 'year',\r\n    label: 'Год издания:',\r\n  },\r\n];\r\nexport default fields;\r\n","const countriesList = [\r\n  'Afghanistan',\r\n  'Albania',\r\n  'Algeria',\r\n  'Andorra',\r\n  'Angola',\r\n  'Anguilla',\r\n  'Antigua',\r\n  'Argentina',\r\n  'Armenia',\r\n  'Aruba',\r\n  'Australia',\r\n  'Austria',\r\n  'Azerbaijan',\r\n  'Bahamas',\r\n  'Bahrain',\r\n  'Bangladesh',\r\n  'Barbados',\r\n  'Belarus',\r\n  'Belgium', 'Belize', 'Benin', 'Bermuda', 'Bhutan', 'Bolivia', 'Bosnia & Herzegovina', 'Botswana', 'Brazil', 'British Virgin Islands', 'Brunei', 'Bulgaria', 'Burkina Faso', 'Burundi', 'Cambodia', 'Cameroon', 'Cape Verde', 'Cayman Islands', 'Chad', 'Chile', 'China', 'Colombia', 'Congo', 'Cook Islands', 'Costa Rica', 'Cote D Ivoire', 'Croatia', 'Cruise Ship', 'Cuba', 'Cyprus', 'Czech Republic', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Estonia', 'Ethiopia', 'Falkland Islands', 'Faroe Islands', 'Fiji', 'Finland', 'France', 'French Polynesia', 'French West Indies', 'Gabon', 'Gambia', 'Georgia', 'Germany', 'Ghana', 'Gibraltar', 'Greece', 'Greenland', 'Grenada', 'Guam', 'Guatemala', 'Guernsey', 'Guinea', 'Guinea Bissau', 'Guyana', 'Haiti', 'Honduras', 'Hong Kong', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Ireland', 'Isle of Man', 'Israel', 'Italy', 'Jamaica', 'Japan', 'Jersey', 'Jordan', 'Kazakhstan', 'Kenya', 'Kuwait', 'Kyrgyz Republic', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macau', 'Macedonia', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Mauritania', 'Mauritius', 'Mexico', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Montserrat', 'Morocco', 'Mozambique', 'Namibia', 'Nepal', 'Netherlands', 'Netherlands Antilles', 'New Caledonia', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Pakistan', 'Palestine', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Puerto Rico', 'Qatar', 'Reunion', 'Romania', 'Russia', 'Rwanda', 'Saint Pierre & Miquelon', 'Samoa', 'San Marino', 'Satellite', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'South Africa', 'South Korea', 'Spain', 'Sri Lanka', 'St Kitts & Nevis', 'St Lucia', 'St Vincent', 'St. Lucia', 'Sudan', 'Suriname', 'Swaziland', 'Sweden', 'Switzerland', 'Syria', 'Taiwan', 'Tajikistan', 'Tanzania', 'Thailand', 'Timor L Este', 'Togo', 'Tonga', 'Trinidad & Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Turks & Caicos', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'Uruguay', 'Uzbekistan', 'Venezuela', 'Vietnam', 'Virgin Islands (US)', 'Yemen', 'Zambia', 'Zimbabwe'];\r\nexport default countriesList;\r\n","const languages = [\r\n  'Abkhaz',\r\n  'Afar',\r\n  'Afrikaans',\r\n  'Akan',\r\n  'Albanian',\r\n  'Amharic',\r\n  'Arabic',\r\n  'Aragonese',\r\n  'Armenian',\r\n  'Assamese',\r\n  'Avaric',\r\n  'Avestan',\r\n  'Aymara',\r\n  'Azerbaijani',\r\n  'Bambara',\r\n  'Bashkir',\r\n  'Basque',\r\n  'Belarusian',\r\n  'Bengali Bangla',\r\n  'Bihari',\r\n  'Bislama',\r\n  'Bosnian',\r\n  'Breton',\r\n  'Bulgarian',\r\n  'Burmese',\r\n  'Catalan Valencian',\r\n  'Chamorro',\r\n  'Chechen',\r\n  'Chichewa Chewa Nyanja',\r\n  'Chinese',\r\n  'Chuvash',\r\n  'Cornish',\r\n  'Corsican',\r\n  'Cree',\r\n  'Croatian',\r\n  'Czech',\r\n  'Danish',\r\n  'Divehi Dhivehi Maldivian',\r\n  'Dutch',\r\n  'Dzongkha',\r\n  'English',\r\n  'Esperanto',\r\n  'Estonian',\r\n  'Ewe',\r\n  'Faroese',\r\n  'Fijian',\r\n  'Finnish',\r\n  'French',\r\n  'Galician',\r\n  'Georgian',\r\n  'German',\r\n  'Greek Modern',\r\n  'GuaranÃ­',\r\n  'Gujarati',\r\n  'Haitian Haitian Creole',\r\n  'Hausa',\r\n  'Hebrew (modern)',\r\n  'Herero',\r\n  'Hindi',\r\n  'Hiri Motu',\r\n  'Hungarian',\r\n  'Interlingua',\r\n  'Indonesian',\r\n  'Interlingue',\r\n  'Irish',\r\n  'Igbo',\r\n  'Inupiaq',\r\n  'Ido',\r\n  'Icelandic',\r\n  'Italian',\r\n  'Inuktitut',\r\n  'Japanese',\r\n  'Javanese',\r\n  'Kalaallisut Greenlandic',\r\n  'Kannada',\r\n  'Kanuri',\r\n  'Kashmiri',\r\n  'Kazakh',\r\n  'Khmer',\r\n  'Kikuyu Gikuyu',\r\n  'Kinyarwanda',\r\n  'Kyrgyz',\r\n  'Komi',\r\n  'Kongo',\r\n  'Korean',\r\n  'Kurdish',\r\n  'Kwanyama Kuanyama',\r\n  'Latin',\r\n  'Luxembourgish Letzeburgesch',\r\n  'Ganda',\r\n  'Limburgish',\r\n  'Lingala',\r\n  'Lao',\r\n  'Lithuanian',\r\n  'Luba-Katanga',\r\n  'Latvian',\r\n  'Manx',\r\n  'Macedonian',\r\n  'Malagasy',\r\n  'Malay',\r\n  'Malayalam',\r\n  'Maltese',\r\n  'MÄori',\r\n  'Marathi (MarÄá¹­hÄ«)',\r\n  'Marshallese',\r\n  'Mongolian',\r\n  'Nauru',\r\n  'Navajo Navaho',\r\n  'Norwegian BokmÃ¥l',\r\n  'North Ndebele',\r\n  'Nepali',\r\n  'Ndonga',\r\n  'Norwegian Nynorsk',\r\n  'Norwegian',\r\n  'Nuosu',\r\n  'South Ndebele',\r\n  'Occitan',\r\n  'Ojibwe Ojibwa',\r\n  'Old Church Slavonic ',\r\n  'Oromo',\r\n  'Oriya',\r\n  'Ossetian Ossetic',\r\n  'Panjabi Punjabi',\r\n  'PÄli',\r\n  'Persian (Farsi)',\r\n  'Polish',\r\n  'Pashto Pushto',\r\n  'Portuguese',\r\n  'Quechua',\r\n  'Romansh',\r\n  'Kirundi',\r\n  'Romanian',\r\n  'Russian',\r\n  'Sanskrit',\r\n  'Sardinian',\r\n  'Sindhi',\r\n  'Northern Sami',\r\n  'Samoan',\r\n  'Sango',\r\n  'Serbian',\r\n  'Scottish Gaelic',\r\n  'Shona',\r\n  'Sinhala Sinhalese',\r\n  'Slovak',\r\n  'Slovene',\r\n  'Somali',\r\n  'Southern Sotho',\r\n  'South Azerbaijani',\r\n  'Spanish',\r\n  'Sundanese',\r\n  'Swahili',\r\n  'Swati',\r\n  'Swedish',\r\n  'Tamil',\r\n  'Telugu',\r\n  'Tajik',\r\n  'Thai',\r\n  'Tigrinya',\r\n  'Tibetan',\r\n  'Turkmen',\r\n  'Tagalog',\r\n  'Tswana',\r\n  'Tonga (Tonga Islands)',\r\n  'Turkish',\r\n  'Tsonga',\r\n  'Tatar',\r\n  'Twi',\r\n  'Tahitian',\r\n  'Uyghur Uighur',\r\n  'Ukrainian',\r\n  'Urdu',\r\n  'Uzbek',\r\n  'Venda',\r\n  'Vietnamese',\r\n  'VolapÃ¼k',\r\n  'Walloon',\r\n  'Welsh',\r\n  'Wolof',\r\n  'Western Frisian',\r\n  'Xhosa',\r\n  'Yiddish',\r\n  'Yoruba',\r\n  'Zhuang Chuang',\r\n  'Zulu',\r\n];\r\nexport default languages;\r\n","import NewBookBlock from './NewBookBlock';\r\n\r\nexport default NewBookBlock;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Field from './Field';\r\nimport fields from '../../constants/Fields';\r\nimport './Fields.sass';\r\n\r\nexport default class NewBookBlock extends Component {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const { newBook, addNewBook } = this.props;\r\n    addNewBook(newBook);\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      newBook,\r\n      onChangeNewBook,\r\n      hasEmptyFields,\r\n    } = this.props;\r\n    return (\r\n      <form>\r\n        <div className=\"fields\">\r\n          {fields.map(field => (\r\n            <Field\r\n              key={field.name}\r\n              onChangeNewBook={onChangeNewBook}\r\n              name={field.name}\r\n              value={newBook[field.name]}\r\n              label={field.label}\r\n              options={field.options}\r\n              isDropDown={field.isDropDown}\r\n            />\r\n          ))}\r\n\r\n        </div>\r\n        <button\r\n          onClick={this.handleClick}\r\n          type=\"submit\"\r\n          disabled={hasEmptyFields}\r\n        >\r\n          Добавить\r\n        </button>\r\n      </form>\r\n\r\n    );\r\n  }\r\n}\r\nNewBookBlock.propTypes = {\r\n  addNewBook: PropTypes.func.isRequired,\r\n  onChangeNewBook: PropTypes.func.isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n};\r\n","import BooksList from './BooksList';\r\n\r\nexport default BooksList;\r\n","import React, { PureComponent } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './BooksList.sass';\r\n\r\nexport class BooksList extends PureComponent {\r\n  handleClick = (e) => {\r\n    e.preventDefault();\r\n    const id = e.target.value;\r\n    const { onDeleteBook } = this.props;\r\n    onDeleteBook(id);\r\n  }\r\n\r\n  render() {\r\n    const { filterBooks } = this.props;\r\n    return (\r\n      <ul className=\"book-list\">\r\n        {\r\n        filterBooks.map(book => (\r\n          <li key={book.id}>\r\n            <div className=\"book-item\">\r\n              <div className=\"cover\" />\r\n              <Link className=\"link\" to={`/books/${book.id}`}>\r\n                <h1 className=\"title\">{book.title}</h1>\r\n              </Link>\r\n              <button\r\n                type=\"submit\"\r\n                value={book.id}\r\n                onClick={this.handleClick}\r\n              >\r\n              X\r\n              </button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\nBooksList.propTypes = {\r\n  onDeleteBook: PropTypes.func.isRequired,\r\n  filterBooks: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n};\r\nexport default BooksList;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './SearchBlock.sass';\r\n\r\nclass SearchBlock extends PureComponent {\r\n  componentDidMount() {\r\n    this.handleLocationChange();\r\n  }\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  getQueryParams = location => new URLSearchParams(location.search).get('search');\r\n\r\n  handleLocationChange = () => {\r\n    const { history, onChangeFilter } = this.props;\r\n    const { location } = history;\r\n    const value = this.getQueryParams(location);\r\n    onChangeFilter(value);\r\n    this.unlisten = history.listen((location) => {\r\n      const value = this.getQueryParams(location);\r\n      if (!value) {\r\n        value = '';\r\n      }\r\n      onChangeFilter(value);\r\n    });\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { history } = this.props;\r\n    const { value } = e.target;\r\n    if (value) {\r\n      history.push({ search: `search=${value}` });\r\n    } else history.push('/');\r\n  }\r\n\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <div className=\"search-field\">\r\n        <h1 className=\"header-title\">Simple BookList</h1>\r\n        <input\r\n          className=\"search-input\"\r\n          onChange={this.handleChange}\r\n          type=\"text\"\r\n          value={value}\r\n          placeholder=\"Введите строку для поиска\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nSearchBlock.propTypes = {\r\n  onChangeFilter: PropTypes.func.isRequired,\r\n  history: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  value: PropTypes.string.isRequired,\r\n};\r\nexport default withRouter(SearchBlock);\r\n","import SearchBlock from './SearchBlock';\r\n\r\nexport default SearchBlock;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport NewBookBlock from '../NewBookBlock';\r\nimport BooksList from '../BooksList';\r\nimport SearchBlock from '../SearchBlock';\r\nimport './App.sass';\r\n\r\nconst App = ({\r\n  newBook,\r\n  changeNewBook,\r\n  addNewBook,\r\n  hasEmptyFields,\r\n  changeFilter,\r\n  filterBooks,\r\n  deleteBook,\r\n  filter,\r\n}) => (\r\n  <div className=\"wrap\">\r\n    <SearchBlock\r\n      onChangeFilter={changeFilter}\r\n      value={filter}\r\n    />\r\n    <NewBookBlock\r\n      newBook={newBook}\r\n      onChangeNewBook={changeNewBook}\r\n      addNewBook={addNewBook}\r\n      hasEmptyFields={hasEmptyFields}\r\n    />\r\n    <BooksList\r\n      filterBooks={filterBooks}\r\n      onDeleteBook={deleteBook}\r\n    />\r\n  </div>\r\n);\r\nApp.propTypes = {\r\n  changeNewBook: PropTypes.func.isRequired,\r\n  addNewBook: PropTypes.func.isRequired,\r\n  deleteBook: PropTypes.func.isRequired,\r\n  changeFilter: PropTypes.func.isRequired,\r\n  filterBooks: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  newBook: PropTypes.objectOf(PropTypes.object).isRequired,\r\n  hasEmptyFields: PropTypes.bool.isRequired,\r\n};\r\nexport default App;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst getFilter = state => state.filter;\r\nconst getBooks = state => state.books;\r\nconst getNewBook = state => state.newBook;\r\n\r\nexport const getVisibleBooksSelector = createSelector(\r\n  [getFilter, getBooks],\r\n  (filter, books) => {\r\n    if (!filter || filter === '') {\r\n      return books;\r\n    }\r\n    return books.filter(el => el.title.indexOf(filter) > -1);\r\n  },\r\n);\r\n\r\nexport const hasEmptyFieldsSelector = createSelector(\r\n  [getNewBook],\r\n  newBook => Object.keys(newBook).some(item => newBook[item] === ''),\r\n);\r\n\r\nexport const getNewBookSelector = createSelector(\r\n  [getNewBook],\r\n  newBook => newBook,\r\n);\r\nexport const filterSelector = createSelector(\r\n  [getFilter],\r\n  filter => filter,\r\n);\r\n","import AppContainer from './AppContainer';\r\n\r\nexport default AppContainer;\r\n","import { connect } from 'react-redux';\r\nimport App from './App';\r\nimport {\r\n  getVisibleBooksSelector,\r\n  hasEmptyFieldsSelector,\r\n  filterSelector,\r\n  getNewBookSelector,\r\n} from '../../selectors';\r\nimport {\r\n  changeNewBookAction,\r\n  addNewBookAction,\r\n  changeFilterAction,\r\n  deleteBookAction,\r\n} from '../../actions/index';\r\n\r\nconst mapStateToProps = state => ({\r\n  newBook: getNewBookSelector(state),\r\n  filter: filterSelector(state),\r\n  hasEmptyFields: hasEmptyFieldsSelector(state),\r\n  filterBooks: getVisibleBooksSelector(state),\r\n});\r\n\r\nexport default\r\nconnect(mapStateToProps,\r\n  {\r\n    changeNewBook: changeNewBookAction,\r\n    addNewBook: addNewBookAction,\r\n    changeFilter: changeFilterAction,\r\n    deleteBook: deleteBookAction,\r\n  })(App);\r\n","import {\r\n  CHANGE_NEW_BOOK,\r\n  ADD_NEW_BOOK,\r\n  CHANGE_FILTER,\r\n  CHANGE_BOOK_PROPERTY,\r\n  DELETE_BOOK,\r\n} from '../constants/ActionTypes';\r\n\r\nexport const changeNewBookAction = (name, value) => (\r\n  { type: CHANGE_NEW_BOOK, payload: { name, value } });\r\nexport const addNewBookAction = newBOOK => (\r\n  { type: ADD_NEW_BOOK, payload: newBOOK });\r\nexport const changeFilterAction = filter => (\r\n  { type: CHANGE_FILTER, payload: filter });\r\nexport const changeBookPropertyAction = (id, editableField, text) => (\r\n  { type: CHANGE_BOOK_PROPERTY, payload: { id, editableField, text } });\r\nexport const deleteBookAction = id => (\r\n  { type: DELETE_BOOK, payload: id });\r\n","export const CHANGE_NEW_BOOK = 'CHANGE_NEW_BOOK';\r\nexport const ADD_NEW_BOOK = 'ADD_NEW_BOOK';\r\nexport const CHANGE_FILTER = 'CHANGE_FILTER';\r\nexport const CHANGE_BOOK_PROPERTY = 'CHANGE_BOOK_PROPERTY';\r\nexport const DELETE_BOOK = 'DELETE_BOOK';\r\n","import NotFound from './NotFound';\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './NotFound.sass';\r\n\r\nconst NotFound = () => (\r\n  <div className=\"not-found\">\r\n    <p className=\"not-found__text\">Элемент не найден! Вернуться <Link to=\"/\">на главную</Link></p>\r\n  </div>\r\n);\r\nexport default NotFound;\r\n","import React, { PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport { changeBookPropertyAction } from '../../../actions';\r\nimport fields from '../../../constants/Fields';\r\nimport NotFound from '../../NotFound';\r\nimport './Book.sass';\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n  books: state.books,\r\n});\r\nclass Book extends PureComponent {\r\n  state = {\r\n    book: null,\r\n    editableField: '',\r\n  }\r\n\r\n  inputFocusRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    const { books, match: { params: { id } } } = this.props;\r\n    this.setState({ book: books.find(el => el.id === id) });\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { editableField } = this.state;\r\n    if (editableField.length !== 0) {\r\n      this.inputFocusRef.current.focus();\r\n    }\r\n  }\r\n\r\n  handleDblClick = (e) => {\r\n    const { value } = e.target.attributes.name;\r\n    this.setState({ editableField: value });\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    this.handleInputEdit(e);\r\n  }\r\n\r\n  handleBlur = (e) => {\r\n    this.handleInputEdit(e);\r\n  };\r\n\r\n  handleInputEdit = (e) => {\r\n    const { editableField, book } = this.state;\r\n    const { changeBookProperty } = this.props;\r\n    const { id } = book;\r\n    const text = e.target.value;\r\n    if (!e.keyCode || e.keyCode === 13) {\r\n      if (book[editableField].length !== 0) {\r\n        changeBookProperty(id, editableField, text);\r\n        this.setState({ editableField: '' });\r\n      }\r\n    }\r\n  };\r\n\r\n   handleChange = (e) => {\r\n     const { editableField, book } = this.state;\r\n     const text = e.target.value;\r\n     this.setState({ book: Object.assign({}, { ...book, [editableField]: text }) });\r\n   }\r\n\r\n   render() {\r\n     const { book, editableField } = this.state;\r\n     return (\r\n\r\n       !book ? (\r\n         <NotFound />\r\n       ) : (\r\n         <div className=\"books-wrap\">\r\n           {\r\n      fields.map(field => (\r\n        <div className=\"book\" key={field.name}>\r\n          <span className=\"book__title\">{field.label}</span>\r\n          {\r\n           editableField === field.name ? (\r\n             <input\r\n               className=\"book__edit\"\r\n               type=\"text\"\r\n               ref={this.inputFocusRef}\r\n               value={book[field.name]}\r\n               onChange={this.handleChange}\r\n               onBlur={this.handleBlur}\r\n               onKeyDown={this.handleKeyDown}\r\n             />\r\n           ) : (\r\n             <span\r\n               className=\"book__value\"\r\n               name={field.name}\r\n               onDoubleClick={this.handleDblClick}\r\n             >\r\n               {book[field.name]}\r\n             </span>\r\n           )}\r\n        </div>\r\n      ))\r\n      }\r\n           <Link className=\"link link_book\" to=\"/\"> Назад</Link>\r\n         </div>\r\n       )\r\n     );\r\n   }\r\n}\r\nBook.propTypes = {\r\n  changeBookProperty: PropTypes.func.isRequired,\r\n  books: PropTypes.arrayOf(PropTypes.array).isRequired,\r\n  match: PropTypes.objectOf(PropTypes.object).isRequired,\r\n};\r\nexport default connect(mapStateToProps, { changeBookProperty: changeBookPropertyAction })(Book);\r\n","import Book from './Book';\r\n\r\nexport default Book;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport AppContainer from './components/App';\r\nimport Book from './components/BooksList/Book';\r\nimport NotFound from './components/NotFound';\r\n\r\nconst routes = (\r\n  <Switch>\r\n    <Route\r\n      path=\"/\"\r\n      component={AppContainer}\r\n      exact\r\n    />\r\n    <Route\r\n      path=\"/books/:id\"\r\n      component={Book}\r\n      exact\r\n    />\r\n    <Route\r\n      component={NotFound}\r\n    />\r\n  </Switch>\r\n);\r\nexport default routes;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\nimport store from './store';\nimport routes from './routes';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      {routes}\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}